<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Model Selection and Estimation | Loss Data Analytics: Short Course</title>
  <meta name="description" content="This is an interactive, online, freely available short course. It will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Model Selection and Estimation | Loss Data Analytics: Short Course" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an interactive, online, freely available short course. It will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning." />
  <meta name="github-repo" content="https://github.com/OpenActTexts/LDACourse1" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Model Selection and Estimation | Loss Data Analytics: Short Course" />
  
  <meta name="twitter:description" content="This is an interactive, online, freely available short course. It will contain many interactive objects (quizzes, computer demonstrations, interactive graphs, video, and the like) to promote deeper learning." />
  

<meta name="author" content="A short course authored by the Actuarial Community" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modeling-loss-severity.html"/>
<link rel="next" href="aggregate-loss-models.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>

<!-- Various toggle functions used throughout --> 
<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
function toggleQuiz(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Quiz Solution";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Quiz Solution";}}      
</script>

<!-- A few functions for revealing definitions -->
<script language="javascript">
<!--   $( function() {
    $("#tabs").tabs();
  } ); -->

$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});

$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K7GRETHNZH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K7GRETHNZH');
</script>

<script language="javascript">
function openTab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>

<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
</script>

<script language="javascript">
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
</script>
<script language="javascript">
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
</script>
<script language="javascript">
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
</script>

<script language="javascript">
function toggleDet(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Details";}
      else {ele.style.display = "block"; text.innerHTML = "Hide  Details";}}
</script>

<script language="javascript">
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>


<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>


<script src=https://cdn.datacamp.com/datacamp-light-latest.min.js></script>


<style>
/* Rearrange console label */
.datacamp-exercise ol li, .datacamp-exercise ul li {
  margin-bottom: 0em !important;
}

/* Remove bullet marker */
.datacamp-exercise ol li::before, .datacamp-exercise ul li::before {
  content: '' !important;
}
</style>


<script language="javascript">
var submitAnswer = function() {

  var radios = document.getElementsByName('choice');
  var val= "";
  for (var i = 0, length = radios.length; i < length; i++) {
      if (radios[i].checked) {
         val = radios[i].value; 
         break;
       }
  }
  
  if (val == "" ) {
    alert('please select choice answer');
  } else if ( val == "Correct" ) {
    alert('Answer is correct !');
  } else {
    alert('Answer is wrong');
  }
};
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K7GRETHNZH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K7GRETHNZH');
</script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Loss Data Analytics: Short Course</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-loss-data-analytics"><i class="fa fa-check"></i>Why Loss Data Analytics?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-navigate-this-tutorial"><i class="fa fa-check"></i>How to Navigate this Tutorial</a></li>
<li><a href="index.html#a-word-from-our-sponsor-astin-education-astin-academy">A Word from our Sponsor: <br> Astin + Education = Astin Academy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html"><i class="fa fa-check"></i><b>1</b> Introduction to Loss Data Analytics</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#Sec:Intro"><i class="fa fa-check"></i><b>1.1</b> Relevance of Analytics to Insurance Activities</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#Sec:PredModApps"><i class="fa fa-check"></i><b>1.2</b> Insurance Company Operations</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#Sec:LGPIF"><i class="fa fa-check"></i><b>1.3</b> Case Study: Property Fund Introduction</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#exercise.-claim-frequency"><i class="fa fa-check"></i><b>1.3.1</b> Exercise. Claim Frequency</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#Sec:PropertyFundSeverity"><i class="fa fa-check"></i><b>1.4</b> Property Fund Claim Severity</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#exercise.-exploring-claim-severities"><i class="fa fa-check"></i><b>1.4.1</b> Exercise. Exploring Claim Severities</a></li>
<li class="chapter" data-level="1.4.2" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#exercise.-skewness-of-the-claim-severity-distribution"><i class="fa fa-check"></i><b>1.4.2</b> Exercise. Skewness of the Claim Severity Distribution</a></li>
<li class="chapter" data-level="1.4.3" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#exercise.-claim-severity-by-year"><i class="fa fa-check"></i><b>1.4.3</b> Exercise. Claim Severity by Year</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#Sec:LGPIFRatingVariaables"><i class="fa fa-check"></i><b>1.5</b> Property Fund Rating Variables</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#Ex:ClaimByType"><i class="fa fa-check"></i><b>1.5.1</b> Exercise. Claim by Entity Type, Fire Class, and No Claim Credit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="introduction-to-loss-data-analytics.html"><a href="introduction-to-loss-data-analytics.html#contributors-1"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="frequency-modeling.html"><a href="frequency-modeling.html"><i class="fa fa-check"></i><b>2</b> Frequency Modeling</a>
<ul>
<li class="chapter" data-level="2.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#basic-frequency-distributions"><i class="fa fa-check"></i><b>2.1</b> Basic Frequency Distributions</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-representing-the-number-of-cyber-events-with-a-binomial-distribution"><i class="fa fa-check"></i><b>2.1.1</b> Exercise. Representing the Number of Cyber Events with a Binomial Distribution</a></li>
<li class="chapter" data-level="2.1.2" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-representing-the-number-of-cyber-events-with-a-poisson-distribution"><i class="fa fa-check"></i><b>2.1.2</b> Exercise. Representing the Number of Cyber Events with a Poisson Distribution</a></li>
<li class="chapter" data-level="2.1.3" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-comparing-basic-count-distributions"><i class="fa fa-check"></i><b>2.1.3</b> Exercise. Comparing Basic Count Distributions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="frequency-modeling.html"><a href="frequency-modeling.html#the-ab0-class"><i class="fa fa-check"></i><b>2.2</b> The (a,b,0) Class</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-determining-probabilities-recursively"><i class="fa fa-check"></i><b>2.2.1</b> Exercise. Determining Probabilities Recursively</a></li>
<li class="chapter" data-level="2.2.2" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-reverse-engineering-and-recursive-r-functions"><i class="fa fa-check"></i><b>2.2.2</b> Exercise. Reverse Engineering and Recursive <code>R</code> Functions</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="frequency-modeling.html"><a href="frequency-modeling.html#estimating-frequency-distributions"><i class="fa fa-check"></i><b>2.3</b> Estimating Frequency Distributions</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#Ex:CountDataCompression"><i class="fa fa-check"></i><b>2.3.1</b> Exercise. Count Data Compression - 1</a></li>
<li class="chapter" data-level="2.3.2" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-count-data-compression---2"><i class="fa fa-check"></i><b>2.3.2</b> Exercise. Count Data Compression - 2</a></li>
<li class="chapter" data-level="2.3.3" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-graphing-likelihoods"><i class="fa fa-check"></i><b>2.3.3</b> Exercise. Graphing Likelihoods</a></li>
<li class="chapter" data-level="2.3.4" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-fitting-a-binomial-distribution"><i class="fa fa-check"></i><b>2.3.4</b> Exercise. Fitting a Binomial Distribution</a></li>
<li class="chapter" data-level="2.3.5" data-path="frequency-modeling.html"><a href="frequency-modeling.html#Exer:FitNegBinomialDistrn"><i class="fa fa-check"></i><b>2.3.5</b> Exercise. Fitting a Negative Binomial Distribution</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="frequency-modeling.html"><a href="frequency-modeling.html#other-frequency-distributions"><i class="fa fa-check"></i><b>2.4</b> Other Frequency Distributions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-the-ab1-distribution-and-its-moments"><i class="fa fa-check"></i><b>2.4.1</b> Exercise. The (<em>a,b</em>,1) Distribution and its Moments</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="frequency-modeling.html"><a href="frequency-modeling.html#mixture-distributions"><i class="fa fa-check"></i><b>2.5</b> Mixture Distributions</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-mixtures-of-workers-compensation-claims"><i class="fa fa-check"></i><b>2.5.1</b> Exercise. Mixtures of Workersâ€™ Compensation Claims</a></li>
<li class="chapter" data-level="2.5.2" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-finite-number-of-mixture-distributions"><i class="fa fa-check"></i><b>2.5.2</b> Exercise. Finite Number of Mixture Distributions</a></li>
<li class="chapter" data-level="2.5.3" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-gamma-mixture-of-poissons"><i class="fa fa-check"></i><b>2.5.3</b> Exercise. Gamma Mixture of Poissons</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="frequency-modeling.html"><a href="frequency-modeling.html#goodness-of-fit"><i class="fa fa-check"></i><b>2.6</b> Goodness of Fit</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="frequency-modeling.html"><a href="frequency-modeling.html#exercise.-goodness-of-fit-zero-modified-poisson"><i class="fa fa-check"></i><b>2.6.1</b> Exercise. Goodness of Fit: Zero-Modified Poisson</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="frequency-modeling.html"><a href="frequency-modeling.html#contributors-2"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html"><i class="fa fa-check"></i><b>3</b> Modeling Loss Severity</a>
<ul>
<li class="chapter" data-level="3.1" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#basic-distributional-quantities"><i class="fa fa-check"></i><b>3.1</b> Basic Distributional Quantities</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-moments-can-be-misleading"><i class="fa fa-check"></i><b>3.1.1</b> Exercise. Moments Can Be Misleading</a></li>
<li class="chapter" data-level="3.1.2" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-determining-boxplots-and-quantiles"><i class="fa fa-check"></i><b>3.1.2</b> Exercise. Determining Boxplots and Quantiles</a></li>
<li class="chapter" data-level="3.1.3" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-gamma-moment-generating-function"><i class="fa fa-check"></i><b>3.1.3</b> Exercise. Gamma Moment Generating Function</a></li>
<li class="chapter" data-level="3.1.4" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-visualizing-moment-generating-functions"><i class="fa fa-check"></i><b>3.1.4</b> Exercise. Visualizing Moment Generating Functions</a></li>
<li class="chapter" data-level="3.1.5" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-determining-moments-using-moment-generating-functions"><i class="fa fa-check"></i><b>3.1.5</b> Exercise. Determining Moments using Moment Generating Functions</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#continuous-distributions"><i class="fa fa-check"></i><b>3.2</b> Continuous Distributions</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-visualizing-a-distribution-using-a-histogram"><i class="fa fa-check"></i><b>3.2.1</b> Exercise. Visualizing a Distribution using a Histogram</a></li>
<li class="chapter" data-level="3.2.2" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#Ex:VisualGamma"><i class="fa fa-check"></i><b>3.2.2</b> Exercise. Visualizing the Gamma Distribution</a></li>
<li class="chapter" data-level="3.2.3" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#Ex:CreateParetoDensityFct"><i class="fa fa-check"></i><b>3.2.3</b> Exercise. Creating a Pareto Density Function</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#methods-of-creating-new-distributions"><i class="fa fa-check"></i><b>3.3</b> Methods of Creating New Distributions</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-using-the-logarithmic-transformation-to-create-a-new-distribution"><i class="fa fa-check"></i><b>3.3.1</b> Exercise. Using the Logarithmic Transformation to Create a New Distribution</a></li>
<li class="chapter" data-level="3.3.2" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-creating-a-mixture-distribution"><i class="fa fa-check"></i><b>3.3.2</b> Exercise. Creating a Mixture Distribution</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#coverage-modifications"><i class="fa fa-check"></i><b>3.4</b> Coverage Modifications</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-calculate-moments-of-the-lognormal-distribution"><i class="fa fa-check"></i><b>3.4.1</b> Exercise. Calculate Moments of the Lognormal Distribution</a></li>
<li class="chapter" data-level="3.4.2" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-calculate-limited-expected-value-of-the-lognormal-distribution"><i class="fa fa-check"></i><b>3.4.2</b> Exercise. Calculate Limited Expected Value of the Lognormal Distribution</a></li>
<li class="chapter" data-level="3.4.3" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-expected-claims-subject-to-a-deductible"><i class="fa fa-check"></i><b>3.4.3</b> Exercise. Expected Claims Subject to a Deductible</a></li>
<li class="chapter" data-level="3.4.4" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-expected-claims-subject-to-a-deductible-and-coinsurance"><i class="fa fa-check"></i><b>3.4.4</b> Exercise. Expected Claims Subject to a Deductible and Coinsurance</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>3.5</b> Maximum Likelihood Estimation</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#Ex:MLEPareto"><i class="fa fa-check"></i><b>3.5.1</b> Exercise. Maximum Likelihood Estimation for a Pareto Distribution</a></li>
<li class="chapter" data-level="3.5.2" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#exercise.-finding-standard-errors-for-maximum-likelihood-estimates"><i class="fa fa-check"></i><b>3.5.2</b> Exercise. Finding Standard Errors for Maximum Likelihood Estimates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="modeling-loss-severity.html"><a href="modeling-loss-severity.html#contributors-3"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html"><i class="fa fa-check"></i><b>4</b> Model Selection and Estimation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#Sec:NonInf"><i class="fa fa-check"></i><b>4.1</b> Nonparametric Inference</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#exercise.-empirical-distribution-function-and-quartiles-percentiles-and-quantiles"><i class="fa fa-check"></i><b>4.1.1</b> Exercise. Empirical Distribution Function and Quartiles, Percentiles and Quantiles</a></li>
<li class="chapter" data-level="4.1.2" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#exercise.-density-estimators"><i class="fa fa-check"></i><b>4.1.2</b> Exercise. Density Estimators</a></li>
<li class="chapter" data-level="4.1.3" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#exercise.-comparing-poisson-and-negative-binomial-distributions"><i class="fa fa-check"></i><b>4.1.3</b> Exercise. Comparing Poisson and Negative Binomial Distributions</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#tools-for-model-selection"><i class="fa fa-check"></i><b>4.2</b> Tools for Model Selection</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#Ex:PPPlot"><i class="fa fa-check"></i><b>4.2.1</b> Exercise. Probability-Probability (<span class="math inline">\(pp\)</span>) plot</a></li>
<li class="chapter" data-level="4.2.2" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#exercise.-quantile-quantile-qq-plot"><i class="fa fa-check"></i><b>4.2.2</b> Exercise. Quantile-Quantile (<span class="math inline">\(qq\)</span>) plot</a></li>
<li class="chapter" data-level="4.2.3" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#exercise.-kolmogorov-smirnov-statistic"><i class="fa fa-check"></i><b>4.2.3</b> Exercise. Kolmogorov-Smirnov statistic</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#model-selection-likelihood-ratio-tests-and-goodness-of-fit"><i class="fa fa-check"></i><b>4.3</b> Model Selection: Likelihood Ratio Tests and Goodness of Fit</a></li>
<li class="chapter" data-level="4.4" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#estimation-using-modified-data-nonparametric-approach"><i class="fa fa-check"></i><b>4.4</b> Estimation using Modified Data: Nonparametric Approach</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#Ex:KMEstimation"><i class="fa fa-check"></i><b>4.4.1</b> Exercise. Kaplan-Meier Estimation based on Censored Data</a></li>
<li class="chapter" data-level="4.4.2" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#exercise.-nonparametric-estimation-using-truncated-and-censored-information"><i class="fa fa-check"></i><b>4.4.2</b> Exercise. Nonparametric Estimation using Truncated and Censored Information</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#estimation-using-modified-data-parametric-approach"><i class="fa fa-check"></i><b>4.5</b> Estimation using Modified Data: Parametric Approach</a></li>
<li class="chapter" data-level="4.6" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#bayesian-inference"><i class="fa fa-check"></i><b>4.6</b> Bayesian Inference</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#visualizing-bayesian-methods"><i class="fa fa-check"></i><b>4.6.1</b> Visualizing Bayesian Methods</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="model-selection-and-estimation.html"><a href="model-selection-and-estimation.html#contributors-4"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html"><i class="fa fa-check"></i><b>5</b> Aggregate Loss Models</a>
<ul>
<li class="chapter" data-level="5.1" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#individual-risk-model"><i class="fa fa-check"></i><b>5.2</b> Individual Risk Model</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#Ex:IRM1"><i class="fa fa-check"></i><b>5.2.1</b> Exercise. Simulating Claim Frequency</a></li>
<li class="chapter" data-level="5.2.2" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#exercise.-individual-risk-model"><i class="fa fa-check"></i><b>5.2.2</b> Exercise. Individual Risk Model</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#Sec:CollRisk1"><i class="fa fa-check"></i><b>5.3</b> Fitting a Collective Risk Model in Two Parts</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#Ex:FreqCollectRM"><i class="fa fa-check"></i><b>5.3.1</b> Exercise. Estimating the Frequency Component of the Collective Risk Model</a></li>
<li class="chapter" data-level="5.3.2" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#exercise.-estimating-the-severity-component-of-the-collective-risk-model"><i class="fa fa-check"></i><b>5.3.2</b> Exercise. Estimating the Severity Component of the Collective Risk Model</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#computation-strategies-for-a-collective-risk-model"><i class="fa fa-check"></i><b>5.4</b> Computation Strategies for a Collective Risk Model</a></li>
<li class="chapter" data-level="5.5" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#tweedie-distribution"><i class="fa fa-check"></i><b>5.5</b> Tweedie Distribution</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#exercise.-fitting-a-tweedie-distribution"><i class="fa fa-check"></i><b>5.5.1</b> Exercise. Fitting a Tweedie Distribution</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#effects-of-coverage-modifications"><i class="fa fa-check"></i><b>5.6</b> Effects of Coverage Modifications</a></li>
<li class="chapter" data-level="" data-path="aggregate-loss-models.html"><a href="aggregate-loss-models.html#contributors-5"><i class="fa fa-check"></i>Contributors</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/OpenActTexts/LDACourse1/" target="blank">LDA Short Course on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Loss Data Analytics: Short Course</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="model-selection-and-estimation" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Model Selection and Estimation</h1>
<p><strong>Chapter Description</strong></p>
<p>Chapters 2 and 3 have described how to fit parametric models to frequency and severity data, respectively. This chapter begins with the selection of models. To compare alternative parametric models, it is helpful to summarize data without reference to a specific parametric distribution. Section 4.1 describes nonparametric estimation, how we can use it for model comparisons and how it can be used to provide starting values for parametric procedures. The process of model selection is then summarized in Sections 4.2 and 4.3. Although our focus is on data from continuous distributions, the same process can be used for discrete versions or data that come from a hybrid combination of discrete and continuous distributions.</p>
<p>Model selection and estimation are fundamental aspects of statistical modeling. To provide a flavor as to how they can be adapted to alternative sampling schemes, Sections 4.4 and 4.5 describes estimation for grouped, censored and truncated data. To see how they can be adapted to alternative models, the chapter closes with Section 4.6 on Bayesian inference, an alternative procedure where the (typically unknown) parameters are treated as random variables.</p>
<div class="blackbox">
<ul>
<li>Although not needed to go through the tutorials, some users may wish to download the overheads that the videos are based on. <button download><a href="https://raw.githubusercontent.com/OpenActTexts/LDACourse1/main/LDA1.Overheads/LDA1.Chap4.pdf">Download Chapter Four overheads as a .pdf file.</a></button></li>
<li>By watching the videos and working through the tutorial exercises, you will get an appreciation for model selection and estimation. For a deeper dive, see the corresponding chapter in the textbook, <a href="https://openacttexts.github.io/Loss-Data-Analytics/C-ModelSelection.html">Chapter Four of <em>Loss Data Analytics</em></a>.</li>
</ul>
</div>
<div id="Sec:NonInf" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Nonparametric Inference</h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Estimate moments, quantiles, and distributions without reference to a parametric distribution.</li>
</ul>
<hr />
<div id="video-nonparametric-estimation-tools" class="section level4 unnumbered">
<h4>Video: Nonparametric Estimation Tools</h4>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298521/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_su91og1z&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_bfq6m2gp" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
</div>
<div id="overheads-nonparametric-estimation-tools-click-tab-to-view" class="section level4 unnumbered">
<h4>Overheads: Nonparametric Estimation Tools (Click Tab to View)</h4>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'Sect41A')">A. Nonparametric Estimation</button>
<button class="tablinks" onclick="openTab(event, 'Sect41B')">B. Moment Estimators</button>
<button class="tablinks" onclick="openTab(event, 'Sect41C')">C. Empirical Cumulative Distribution Function</button>
<button class="tablinks" onclick="openTab(event, 'Sect41D')">D. Empirical Example</button>
<button class="tablinks" onclick="openTab(event, 'Sect41E')">E. Empirical Cumulative Distribution Function of a Toy Example</button>
<button class="tablinks" onclick="openTab(event, 'Sect41F')">F. Smoothed Empirical Percentiles I</button>
<button class="tablinks" onclick="openTab(event, 'Sect41G')">G. Smoothed Empirical Percentiles II</button>
<button class="tablinks" onclick="openTab(event, 'Sect41H')">H. Density Estimators</button>
<button class="tablinks" onclick="openTab(event, 'Sect41I')">I. Uniform Kernel Density Estimator</button>
<button class="tablinks" onclick="openTab(event, 'Sect41J')">J. Kernel Density Estimator</button>
<button class="tablinks" onclick="openTab(event, 'Sect41K')">K. Kernel Density Estimator of a Distribution Function</button><br />
<button class="tablinks" onclick="openTab(event, 'Sect41L')">L. Grouped Data I</button><br />
<button class="tablinks" onclick="openTab(event, 'Sect41M')">M. Grouped Data II</button><br />

</div>
<div id="Sect41A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=3" width="100%" height="400"> </iframe>
</div>
<div id="Sect41B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=4" width="100%" height="400"> </iframe>
</div>
<div id="Sect41C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=5" width="100%" height="400"> </iframe>
</div>
<div id="Sect41D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=6" width="100%" height="400"> </iframe>
</div>
<div id="Sect41E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=7" width="100%" height="400"> </iframe>
</div>
<div id="Sect41F" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=8" width="100%" height="400"> </iframe>
</div>
<div id="Sect41G" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=9" width="100%" height="400"> </iframe>
</div>
<div id="Sect41H" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=10" width="100%" height="400"> </iframe>
</div>
<div id="Sect41I" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=11" width="100%" height="400"> </iframe>
</div>
<div id="Sect41J" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=12" width="100%" height="400"> </iframe>
</div>
<div id="Sect41K" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=13" width="100%" height="400"> </iframe>
</div>
<div id="Sect41L" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=14" width="100%" height="400"> </iframe>
</div>
<div id="Sect41M" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=15" width="100%" height="400"> </iframe>
</div>
</div>
<div id="exercise.-empirical-distribution-function-and-quartiles-percentiles-and-quantiles" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Exercise. Empirical Distribution Function and Quartiles, Percentiles and Quantiles</h3>
<p><strong>Assignment Text</strong></p>
<p>In this tutorial, you will find empirical (cumulative) distribution and quantiles for the loss. The Wisconsin Property Fund data has already been read into a data frame called <code>Insample</code>. These data consist of claim experience for fund members over the years 2006-2010, inclusive. It includes the claim year <code>Year</code> and claim loss <code>y</code>.</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/ecdf">ecdf()</a> to create the empirical (cumulative) distribution for loss amount <code>y</code> and plot it.</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/quantile">quantile()</a> to produce sample quantiles corresponding to the given percentiles for each year. Which year has the largest 90th percentile?</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6Ikluc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpIiwic2FtcGxlIjoiIyBDcmVhdGUgZW1waXJpY2FsIGRpc3RyaWJ1dGlvblxuZW1waXJpY2FsIDwtID8/XG4jIFBsb3QgZW1waXJpY2FsIGRpc3RyaWJ1dGlvblxucGxvdCg/PylcblxubGlicmFyeShkcGx5cilcbiMgR3JvdXAgZGF0YSBieSB5ZWFyIGFuZCBzdW1tYXJpc2UgZGF0YSB1c2luZyBxdWFudGlsZVxuSW5zYW1wbGUgJT4lIFxuICBncm91cF9ieSg/PykgJT4lIFxuICBzdW1tYXJpc2UoPz8pIiwic29sdXRpb24iOiIjIENyZWF0ZSBlbXBpcmljYWwgZGlzdHJpYnV0aW9uXG5lbXBpcmljYWwgPC0gZWNkZihJbnNhbXBsZSR5KVxuIyBQbG90IGVtcGlyaWNhbCBkaXN0cmlidXRpb25cbnBsb3QoZW1waXJpY2FsLCBtYWluPVwiXCIsIHhsYWI9XCJsb3NzXCIsXG4gICAgIHZlcnRpY2Fscz1UUlVFLCBjb2wucG9pbnRzPVwiYmx1ZVwiLFxuICAgICBjb2wuaG9yPVwicmVkXCIsIGNvbC52ZXJ0PVwiYmlzcXVlXCIpXG5cbmxpYnJhcnkoZHBseXIpXG4jIEdyb3VwIGRhdGEgYnkgeWVhciBhbmQgc3VtbWFyaXNlIGRhdGEgdXNpbmcgcXVhbnRpbGVcbkluc2FtcGxlICU+JSBcbiAgZ3JvdXBfYnkoWWVhcikgJT4lIFxuICBzdW1tYXJpc2UocXVhbnRpbGVfZWFjaF95ZWFyPXF1YW50aWxlKHksIHByb2JzPWMoMC45KSwgdHlwZT02KSkiLCJzY3QiOiJlbXBtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGVtcGlyaWNhbGA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcImVtcGlyaWNhbFwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgZW1waXJpY2FsYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9ZW1wbXNnKVxucGxvdDFtc2c8LVwiVXNlIGBwbG90YCBvbiB0aGUgYGVtcGlyaWNhbGAgb2JqZWN0XCJcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwicGxvdFwiLCBub3RfY2FsbGVkX21zZz1wbG90MW1zZykgJT4lIGNoZWNrX3Jlc3VsdCgpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPXBsb3QxbXNnKVxuc3VjY2Vzc19tc2coXCJXZWxsIGRvbmUhIEFzIHlvdXIgYW5hbHlzaXMgc2hvd3MsIFllYXIgMjAwNyBoYXMgdGhlIGxhcmdlc3QgOTB0aCBwZXJjZW50aWxlcy5cIikiLCJoaW50IjoiZ3JvdXBfYnkoKSB0YWtlcyBhbiBleGlzdGluZyBkYXRhIGFuZCBjb252ZXJ0cyBpdCBpbnRvIGEgZ3JvdXBlZCBkYXRhIHdoZXJlIG9wZXJhdGlvbnMgYXJlIHBlcmZvcm1lZCBieSBncm91cC5cbnN1bW1hcmlzZSgpIG91dHB1dHMgYSBzaW5nbGUgcm93IHN1bW1hcmlzaW5nIGFsbCBvYnNlcnZhdGlvbnMgaW4gdGhlIGlucHV0LiBJdCB3aWxsIGNvbnRhaW4gb25lIGNvbHVtbiBmb3IgZWFjaCBncm91cGluZyB2YXJpYWJsZSBhbmQgb25lIGNvbHVtbiBmb3IgZWFjaCBvZiB0aGUgc3VtbWFyeSBzdGF0aXN0aWNzIHRoYXQgeW91IGhhdmUgc3BlY2lmaWVkLlxuV2hpY2ggPGNvZGU+dHlwZTwvY29kZT4gc2hvdWxkIHdlIHVzZSBmb3IgcXVhbnRpbGUoKT8ifQ==
</div>
</div>
<div id="exercise.-density-estimators" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Exercise. Density Estimators</h3>
<p><strong>Assignment Text</strong></p>
<p>Nonparametric density estimators, such as the kernel estimator, are regularly used in practice. In this tutorial, We will use the Wisconsin Property Fund data, which already has been read into a data frame called <code>Insample</code>, to plot a histogram and overlay density curves with various density estimators.</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Plot a histogram of logarithmic loss amount <code>y</code>.</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/density">density()</a> to compute kernel density estimates.</li>
<li>Overlay density curves on top of the histogram:
<ul>
<li>using a blue thick curve to represent a Gaussian kernel density where the bandwidth was selected automatically using an ad hoc rule based on the sample size and volatility of these data,</li>
<li>using a green thick curve to represent a Gaussian kernel density with a bandwidth equal to 1,</li>
<li>using a red thick curve to represent a triangular kernel density with a bandwidth of 0.1.</li>
</ul></li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6Ikluc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpIiwic2FtcGxlIjoiIyBQbG90IGhpc3RvZ3JhbVxuaGlzdCg/PywgZnJlcT1GQUxTRSlcbiMgR2F1c3NpYW4ga2VybmVsIGRlbnNpdHkgLSBibHVlIGN1cnZlXG5saW5lcyhkZW5zaXR5KD8/LCBjb2w9XCJibHVlXCIsIGx3ZD0yKVxuIyBHYXVzc2lhbiBrZXJuZWwgZGVuc2l0eSB3aXRoIGEgYmFuZHdpZHRoIGVxdWFsIHRvIDEgLSBncmVlbiBjdXJ2ZVxubGluZXMoZGVuc2l0eSg/PywgYnc9Pz8pLCBjb2w9XCJncmVlblwiLCBsd2Q9MilcbiMgVHJpYW5ndWxhciBrZXJuZWwgZGVuc2l0eSB3aXRoIGEgYmFuZHdpZHRoIGVxdWFsIHRvIDAuMSAtIHJlZCBjdXJ2ZVxubGluZXMoZGVuc2l0eSg/Pywga2VybmVsPT8/LCBidz0/PyksIGNvbD1cInJlZFwiLCBsd2Q9MikiLCJzb2x1dGlvbiI6IiMgUGxvdCBoaXN0b2dyYW1cbmhpc3QobG9nKEluc2FtcGxlJHkpLCBmcmVxPUZBTFNFKVxuIyBHYXVzc2lhbiBrZXJuZWwgZGVuc2l0eSAtIGJsdWUgY3VydmVcbmxpbmVzKGRlbnNpdHkobG9nKEluc2FtcGxlJHkpKSwgY29sPVwiYmx1ZVwiLCBsd2Q9MilcbiMgR2F1c3NpYW4ga2VybmVsIGRlbnNpdHkgYSBiYW5kd2lkdGggZXF1YWwgdG8gMSAtIGdyZWVuIGN1cnZlXG5saW5lcyhkZW5zaXR5KGxvZyhJbnNhbXBsZSR5KSwgYnc9MSksIGNvbD1cImdyZWVuXCIsIGx3ZD0yKVxuIyBUcmlhbmd1bGFyIGtlcm5lbCBkZW5zaXR5IGEgYmFuZHdpZHRoIGVxdWFsIHRvIDAuMSAtIHJlZCBjdXJ2ZVxubGluZXMoZGVuc2l0eShsb2coSW5zYW1wbGUkeSksIGtlcm5lbD1cInRyaWFuZ3VsYXJcIiwgYnc9MC4xKSwgY29sPVwicmVkXCIsIGx3ZD0yKSIsInNjdCI6Imhpc3QxbXNnPC1cIlVzZSB0aGUgZnVuY3Rpb24gYGhpc3RgIG9uIHRoZSBsb2dhcml0aG0gb2YgdmFyaWFibGUgYHlgIGluIHRoZSBkYXRhIGZyYW1lIGBJbnNhbXBsZWBcIlxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJoaXN0XCIsIG5vdF9jYWxsZWRfbXNnPWhpc3QxbXNnKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9aGlzdDFtc2cpXG5kZW5zaXR5MW1zZzwtXCJVc2UgdGhlIGZ1bmN0aW9uIGBkZW5zaXR5YCBvbiB0aGUgbG9nYXJpdGhtIG9mIHZhcmlhYmxlIGB5YCBpbiB0aGUgZGF0YSBmcmFtZSBgSW5zYW1wbGVgXCJcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwiZGVuc2l0eVwiLCBub3RfY2FsbGVkX21zZz1kZW5zaXR5MW1zZykgJT4lIGNoZWNrX3Jlc3VsdCgpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPWRlbnNpdHkxbXNnKVxuc3VjY2Vzc19tc2coXCJFeGNlbGxlbnQhIFRoaXMgaXMgYSB2ZXJ5IGJlYXV0aWZ1bCBncmFwaGljIHdpdGggY29sb3JzISBXZSBvYnNlcnZlZCBkaWZmZXJlbnQgZGVuc2l0eSBjdXJ2ZXMuXCIpIiwiaGludCI6IlRoZSBzeW50YXggPGNvZGU+bG9nKGRhdGEkeCk8L2NvZGU+IHByb2R1Y2VzIHRoZSBsb2dhcml0aG0gb2YgdmFyaWFibGUgPGNvZGU+eDwvY29kZT4gaW4gdGhlIGRhdGEgZnJhbWUgPGNvZGU+ZGF0YTwvY29kZT4uIn0=
</div>
</div>
<div id="exercise.-comparing-poisson-and-negative-binomial-distributions" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Exercise. Comparing Poisson and Negative Binomial Distributions</h3>
<p>In this tutorial, you will model claim count data and decide whether a Poisson<span class="math inline">\((\lambda)\)</span> or a negative binomial<span class="math inline">\((r=3,p)\)</span> better fits the data. Because of the number of steps involved, we split this tutorial into several distinct stages.</p>
<p><strong>Assignment Text</strong></p>
<p>The raw data are the number of claims filed by <span class="math inline">\(n=100\)</span> policyholders. Recall that claim count data are discrete and take values <span class="math inline">\(0, 1, 2, \dots\)</span>. So, we consider two discrete probability models. You will apply tools learned in Section <a href="model-selection-and-estimation.html#Sec:NonInf">4.1</a> to make a decision on which model fits these data better.</p>
<p>We start with exploratory data analysis, making graphical and numeric summaries of data before fitting a model.</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Make a <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/table">table</a> of the claims counts.</li>
<li>Make a <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/barplot">barplot</a> to graphically display the claims counts.</li>
<li>Compute the <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/mean">mean</a> and <a href="http://www.r-tutor.com/elementary-statistics/numerical-measures/variance">variance</a> of the claims count distribution. Based on these, do you think a Poisson or a negative binomial model might be better?</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6InNldC5zZWVkKDQpXG5jbGFpbXMgPSBybmJpbm9tKG4gPSAxMDAsIHNpemUgPSAzLCBwcm9iID0gMC41KSIsInNhbXBsZSI6InRhYmxlKGNsYWltcylcbmJhcnBsb3QoPz8sIHhsYWI9XCIjIENsYWltc1wiKVxuXG5tZWFuKGNsYWltcylcbj8/KGNsYWltcykiLCJzb2x1dGlvbiI6InRhYmxlKGNsYWltcylcbmJhcnBsb3QodGFibGUoY2xhaW1zKSwgeGxhYj1cIiMgQ2xhaW1zXCIpXG5tZWFuKGNsYWltcylcbnZhcihjbGFpbXMpIiwic2N0IjoiYmFycGxvdDFtc2c8LVwiVXNlIGBiYXJwbG90YCBvbiB0aGUgYHRhYmxlKGNsYWltcylgIG9iamVjdD9cIlxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJiYXJwbG90XCIsIG5vdF9jYWxsZWRfbXNnPWJhcnBsb3QxbXNnKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9YmFycGxvdDFtc2cpXG52YXIxbXNnPC1cIlVzZSBgdmFyYCBvbiB0aGUgYGNsYWltc2Agb2JqZWN0P1wiXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInZhclwiLCBub3RfY2FsbGVkX21zZz12YXIxbXNnKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9dmFyMW1zZylcbnN1Y2Nlc3NfbXNnKFwiQW5kIHlvdSdyZSBvZmYhICBCeSB0aGUgd2F5IC0gZGlkIHlvdSBsYWJlbCB5b3VyIGF4ZXM/XCIpIiwiaGludCI6IlRoZSBvdXRwdXQgZnJvbSB0aGUgPGNvZGU+dGFibGUoKTwvY29kZT4gZnVuY3Rpb24gY2FuIGJlIHVzZWQgYXMgYW4gYXJndW1lbnQgaW4gdGhlIDxjb2RlPmJhcnBsb3QoKTwvY29kZT4gZnVuY3Rpb24ifQ==
</div>
<p>Observe that the distribution is heavily right-skewed, and the sample variance is much larger than the sample mean. You may recall that if <span class="math inline">\(X \sim\)</span> Poisson<span class="math inline">\((\lambda)\)</span>,
<span class="math display">\[
\mathrm{E}(X) = \mathrm{Var}(X) = \lambda.
\]</span>
We would expect the sample mean and sample variance to be roughly equal if the claims data came from the Poissonâ€¦ our first clue this distribution may not be best!</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Fit the Poisson distribution by estimating <span class="math inline">\(\lambda\)</span> using maximum likelihood estimation.</li>
<li>Make a <span class="math inline">\(qq\)</span> plot comparing the observed data to the fitted Poisson.</li>
</ul>
<p>Fitting the distribution involves estimating the parameter <span class="math inline">\(\lambda\)</span>. Do you recall the maximum likelihood estimator for a Poisson? If not, this is shown in the companion video for this tutorial.</p>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6InNldC5zZWVkKDQpXG5jbGFpbXMgPSBybmJpbm9tKG4gPSAxMDAsIHNpemUgPSAzLCBwcm9iID0gMC41KVxuI0luc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsXG4jICAgICAgICAgICAgICAgICAgICAgIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpIiwic2FtcGxlIjoibGFtYmRhID0gPz9cbmxhbWJkYVxuXG4jIyBtYWtlIHRoZSBxdWFudGlsZXNcbnA9c2VxKDAuMDEsMC45OSwgYnk9MC4wMSlcbnFwID0gcXBvaXMocCwgbGFtYmRhPTMpXG5cbiMjIGNvbXB1dGUgdGhlIHF1YW50aWxlc1xucWNsYWltcyA9IHF1YW50aWxlKD8/LCBwKVxuXG4jIyBNYWtlIGEgcGxvdCAoYW5kIGxhYmVsIGF4ZXMhKVxucGxvdCg/PywgPz8sIHlsaW09YygwLDEyKSx4bGltPWMoMCwxMiksIHhsYWI9XCJNb2RlbCBRdWFudGlsZXNcIiwgeWxhYj1cIkVtcGlyaWNhbCBRdWFudGlsZXNcIilcbmFibGluZSgwLDEpIiwic29sdXRpb24iOiJsYW1iZGEgPSBtZWFuKGNsYWltcylcbmxhbWJkYVxuXG4jIyBtYWtlIHRoZSBxdWFudGlsZXNcbnByPXNlcSgwLjAxLDAuOTksIGJ5PTAuMDEpXG5xcCA9IHFwb2lzKHByLCBsYW1iZGE9MylcblxuIyMgY29tcHV0ZSB0aGUgcXVhbnRpbGVzXG5xY2xhaW1zID0gcXVhbnRpbGUoY2xhaW1zLCBwcilcblxuIyMgTWFrZSBhIHBsb3QgKGFuZCBsYWJlbCBheGVzISlcbnBsb3QocXAsIHFjbGFpbXMsIHlsaW09YygwLDEyKSx4bGltPWMoMCwxMiksIHhsYWI9XCJNb2RlbCBRdWFudGlsZXNcIiwgeWxhYj1cIkVtcGlyaWNhbCBRdWFudGlsZXNcIilcbmFibGluZSgwLDEpIiwic2N0IjoibGFtYmRhbXNnIDwtIFwiRGlkIHlvdSBjb3JyZWN0bHkgc3BlY2lmeSB0aGUgb2JqZWN0IGBsYW1iZGFgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJsYW1iZGFcIiwgdW5kZWZpbmVkX21zZyA9IFwiTWFrZSBzdXJlIHRvIG5vdCByZW1vdmUgYGxhbWJkYWAhXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPWxhbWJkYW1zZylcblxucWNsYWltc21zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgcWNsYWltc2A/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcInFjbGFpbXNcIiwgdW5kZWZpbmVkX21zZyA9IFwiTWFrZSBzdXJlIHRvIG5vdCByZW1vdmUgYHFjbGFpbXNgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1xY2xhaW1zbXNnKVxuXG5wbG90Mm1zZzwtXCJVc2UgYHBsb3RgIG9uIHRoZSBgcXBgIG9iamVjdFwiXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInBsb3RcIiwgbm90X2NhbGxlZF9tc2c9cGxvdDJtc2cpICU+JSBjaGVja19yZXN1bHQoKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wbG90Mm1zZylcblxuc3VjY2Vzc19tc2coXCJOaWNlISAgQnV0IGl0J3Mgbm90IGEgKmdyZWF0KiBmaXQsIGlzIGl0P1wiKSIsImhpbnQiOiJSZW1lbWJlciB0aGUgTUxFIGZvciBhIFBvaXNzb24gaXMganVzdCB0aGUgc2FtcGxlIG1lYW4hPC9wPlxuXG48cD5TaG91bGQgeW91IGJydXNoIHVwIG9uIHRoZSAgPGEgaHJlZj1cImh0dHBzOi8vd3d3LnJkb2N1bWVudGF0aW9uLm9yZy9wYWNrYWdlcy9iYXNlL3ZlcnNpb25zLzMuNi4yL3RvcGljcy9xdWFudGlsZVwiPnF1YW50aWxlPC9hPiBmdW5jdGlvbj8ifQ==
</div>
<p>Do you notice how the empirical quantiles do not match the model for some of the larger values in the right tail? This plot says the empirical quantiles are too large, thatâ€™s why they are above the diagonal line <span class="math inline">\(y=x\)</span>. Our claims data are too right-skewed, and thatâ€™s why the <span class="math inline">\(qq\)</span> plot seems off for larger quantiles. Might the negative binomial might be more promising?</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Fit the negative binomial by using the method of moments estimator to estimate <span class="math inline">\(p\)</span>.</li>
<li>Make a <span class="math inline">\(qq\)</span> plot comparing the observed data to the fitted negative binomial.</li>
</ul>
</div>
<p>To fit the Negative Binomial(<span class="math inline">\(r=3, \beta\)</span>), we need to estimate the parameter <span class="math inline">\(\beta\)</span> using the method of moments. Recall that the probability mass function for a negative binomial (<a href="https://openacttexts.github.io/Loss-Data-Analytics/C-Frequency-Modeling.html#S:important-frequency-distributions">Sec 2.2.3.3 of <em>Loss Data Analytics</em></a>) is
<span class="math display">\[
\Pr(X = k) = \frac{(k+r-1)!}{k!(r-1)!}\left(\frac{1}{1+\beta}\right)^r \left(\frac{\beta}{1+\beta} \right)^k, \hspace{5mm} k=0, 1, ...
\]</span>
with parameters <span class="math inline">\(r\)</span> and <span class="math inline">\(\beta\)</span>. Also recall that in the method of moments we equate the <span class="math inline">\(t^{th}\)</span> sample moment and <span class="math inline">\(t^{th}\)</span> model moment,
<span class="math display">\[ 
\mathrm{E}(X^t) = \frac{1}{n}\sum_{i=1}^{n}x_{i}^t,
\]</span>
where <span class="math inline">\(t=1, 2, ...\)</span>. If we use <span class="math inline">\(t=1\)</span> to equate the first moments, we get the expression
<span class="math display">\[  
\mathrm{E}(X) = r\beta = 3\beta = \overline{x} = 3
\]</span>
Solving the above for <span class="math inline">\(\beta\)</span>, we see <span class="math inline">\(\hat{\beta} = 1\)</span>. Therefore the Negative Binomial(<span class="math inline">\(r=3, \beta=1\)</span>) is the fitted model.</p>
<p>Next, we use <code>R</code> to fit this and make a <span class="math inline">\(qq\)</span> plot. It is important to understand that distributions are not uniquely parameterized, and there can be different conventions across fields, textbooks, and software. Indeed, in <code>R</code> the function  defines the negative binomial as
<span class="math display">\[
\Pr(X = k) = \frac{(k+n-1)!}{(n-1)!k!}p^n(1-p)^k, \hspace{5mm} k=0, 1, ...
\]</span></p>
<p>This matches the definition in the textbook by equating probability <span class="math inline">\(p = \frac{1}{1+\beta}\)</span>, and size <span class="math inline">\(r=n\)</span>. It is very important to carefully consider the parameterization of any distribution you use in <code>R</code>.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6InNldC5zZWVkKDQpXG5jbGFpbXMgPSBybmJpbm9tKG4gPSAxMDAsIHNpemUgPSAzLCBwcm9iID0gMC41KVxuI0luc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsXG4jICAgICAgICAgICAgICAgICAgICAgIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpIiwic2FtcGxlIjoicCA9ID8/XG5wcj1zZXEoMC4wMSwwLjk5LCBieT0wLjAxKVxucWIgPSBxbmJpbm9tKHByLCBzaXplPT8/LCBwcm9iID0gcClcblxuIyMgY29tcHV0ZSB0aGUgcXVhbnRpbGVzXG5xY2xhaW1zID0gcXVhbnRpbGUoY2xhaW1zLCBwcilcblxucGxvdCg/PywgPz8sIHlsaW09YygwLDEyKSwgeGxpbT1jKDAsMTIpLCB5bGFiPVwiRW1waXJpY2FsIFF1YW50aWxlc1wiLCB4bGFiPVwiTW9kZWwgUXVhbnRpbGVzXCIpXG5hYmxpbmUoMCwxKSIsInNvbHV0aW9uIjoicCA9IDAuNVxucHI9c2VxKDAuMDEsMC45OSwgYnk9MC4wMSlcbnFiID0gcW5iaW5vbShwciwgc2l6ZT0zLCBwcm9iID0gcClcblxuIyMgY29tcHV0ZSB0aGUgcXVhbnRpbGVzXG5xY2xhaW1zID0gcXVhbnRpbGUoY2xhaW1zLCBwcilcblxucGxvdChxYiwgcWNsYWltcywgeWxpbT1jKDAsMTIpLCB4bGltPWMoMCwxMiksIHlsYWI9XCJFbXBpcmljYWwgUXVhbnRpbGVzXCIsIHhsYWI9XCJNb2RlbCBRdWFudGlsZXNcIilcbmFibGluZSgwLDEpIiwic2N0IjoicG1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgcGA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcInBcIiwgdW5kZWZpbmVkX21zZyA9IFwiTWFrZSBzdXJlIHRvIG5vdCByZW1vdmUgYHBgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wbXNnKVxuXG5xYm1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgcWJgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJxYlwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgcWJgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1xYm1zZylcblxucGxvdDNtc2c8LVwiVXNlIGBwbG90YCBvbiB0aGUgYHFiYCBhbmQgYHFjbGFpbXNgIG9iamVjdHNcIlxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJwbG90XCIsIG5vdF9jYWxsZWRfbXNnPXBsb3QzbXNnKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9cGxvdDNtc2cpXG5cbnN1Y2Nlc3NfbXNnKFwiVGhpcyBzZWVtcyB0byBiZSBhIGJldHRlciBmaXQgdGhhbiBQb2lzc29uLlwiKSIsImhpbnQiOiJTaG91bGQgeW91IGJydXNoIHVwIG9uIHRoZSAgPGEgaHJlZj1cImh0dHBzOi8vd3d3LnJkb2N1bWVudGF0aW9uLm9yZy9wYWNrYWdlcy9iYXNlL3ZlcnNpb25zLzMuNi4yL3RvcGljcy9xbmJpbm9tXCI+cW5iaW5vbTwvYT4gZnVuY3Rpb24/ICBJdCBjYW4gYmUgZWFzeSB0byBlbnRlciB0aGUgd3JvbmcgcGFyYW1ldGVycyBmb3IgYSBkaXN0cmlidXRpb24sIGVzcGVjaWFsbHkgaWYgdGhlIG5hbWVzIG9yIGRlZmluaXRpb25zIG9mIHRoZSBwYXJhbWV0ZXJzIGFyZSBub3QgdW5pdmVyc2FsbHkgYWdyZWVkIHVwb24uICBBbHdheXMgY2hlY2shIn0=
</div>
<!-- ```{r child = './Quizzes/Quiz41.html', eval = QUIZ} -->
<!-- ``` -->
</div>
</div>
<div id="tools-for-model-selection" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Tools for Model Selection</h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Summarize the data graphically without reference to a parametric distribution.</li>
<li>Determine measures that summarize deviations of a parametric from a nonparametric fit.</li>
<li>Use nonparametric estimators to approximate parameters that can be used to start a parametric estimation procedure.</li>
</ul>
<hr />
<div id="video-tools-for-model-selection" class="section level4 unnumbered">
<h4>Video: Tools for Model Selection</h4>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298521/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_tcqdwc0i&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_jrvuguzf" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
</div>
<div id="overheads-tools-for-model-selection-click-tab-to-view" class="section level4 unnumbered">
<h4>Overheads: Tools for Model Selection (Click Tab to View)</h4>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'Sect421A')">A. Comparing Distribution and Density Functions</button>
<button class="tablinks" onclick="openTab(event, 'Sect421B')">B. PP Plot</button>
<button class="tablinks" onclick="openTab(event, 'Sect421C')">C. QQ Plot</button>
<button class="tablinks" onclick="openTab(event, 'Sect421D')">D. Goodness-of-Fit Test</button>
<button class="tablinks" onclick="openTab(event, 'Sect421E')">E. Kolmogorov-Smirnov Test</button>
<button class="tablinks" onclick="openTab(event, 'Sect421F')">F. Chi-Square (Ï‡2) Test</button>
</div>
<div id="Sect421A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=18" width="100%" height="400"> </iframe>
</div>
<div id="Sect421B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=19" width="100%" height="400"> </iframe>
</div>
<div id="Sect421C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=20" width="100%" height="400"> </iframe>
</div>
<div id="Sect421D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=21" width="100%" height="400"> </iframe>
</div>
<div id="Sect421E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=22" width="100%" height="400"> </iframe>
</div>
<div id="Sect421F" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=23" width="100%" height="400"> </iframe>
</div>
</div>
<div id="Ex:PPPlot" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Exercise. Probability-Probability (<span class="math inline">\(pp\)</span>) plot</h3>
<p><img src = "ContributorPics/hurdler.png" width = "65" height = "65" style = "float:right; margin-left: 10px; margin-top: 7px" /></p>
<p><strong>Assignment Text</strong></p>
<p>Probability-probability (<span class="math inline">\(pp\)</span>) plots can be used to corroborate the selection of parametric models. The Wisconsin Property Fund data has already been read into a data frame called <code>Insample</code> and we created subset data which contains the positive loss data called <code>positive_loss</code>.</p>
<p>In this tutorial, you will generate <span class="math inline">\(pp\)</span> plots with Gaussian and gamma distribution. Based on the <span class="math inline">\(pp\)</span> plots, which parametric fitted model is closer to the empirical distribution?</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/glm">glm(response~1,data=,family=Gamma(link=log))</a> to fit generalized linear model (<em>glm</em>) with gamma family.
<ul>
<li>Find the shape and rate parameters from the fitted gamma <em>glm</em>. (No action required on your part.)</li>
</ul></li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/glm">glm(response~1,data=,family=gaussian(link=log))</a> to fit generalized linear model (<em>glm</em>) with Gaussian distribution.
<ul>
<li>Find the mean and standard deviation from the fitted Gaussian <em>glm</em>. (No action required on your part.)</li>
</ul></li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/ecdf">ecdf()</a> to create the empirical distribution for positive loss.</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/Rlab/versions/2.15.1/topics/Gamma">pgamma()</a> to create distribution function for the gamma distribution. Generate a <span class="math inline">\(pp\)</span> plot for the positive loss amount <code>y</code> using the gamma distribution.</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/Normal">pnorm()</a> to create distribution function for the Gaussian distribution. Generate a <span class="math inline">\(pp\)</span> plot for the positive loss amount <code>y</code> using Gaussian distribution.</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6Ikluc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpXG5saWJyYXJ5KE1BU1MpXG5wb3NpdGl2ZV9sb3NzIDwtIHN1YnNldChJbnNhbXBsZSwgeT4wKSIsInNhbXBsZSI6IiMgRml0IGdhbW1hXG5maXRfZ2FtbWEgPC0gZ2xtKGZvcm11bGE9Pz8sIGRhdGE9Pz8sIGZhbWlseT1HYW1tYShsaW5rPWxvZykpXG50aGV0YSA8LSBleHAoY29lZihmaXRfZ2FtbWEpKSpnYW1tYS5kaXNwZXJzaW9uKGZpdF9nYW1tYSkgXG5hbHBoYSA8LSAxL2dhbW1hLmRpc3BlcnNpb24oZml0X2dhbW1hKVxuIyBGaXQgR2F1c3NpYW5cbmZpdF9nYXVzc2lhbiA8LSBnbG0oZm9ybXVsYT0/PywgZGF0YT0/PywgZmFtaWx5PWdhdXNzaWFuKGxpbms9bG9nKSlcbm11IDwtIGV4cChjb2VmKGZpdF9nYXVzc2lhbikpICBcbnNpZ21hIDwtIHNxcnQoc3VtbWFyeShmaXRfZ2F1c3NpYW4pJGRpc3BlcnNpb24pIFxuIyBDcmVhdGUgZW1waXJpY2FsIGRpc3RyaWJ1dGlvblxuZW1waXJpY2FsIDwtID8/XG4jIGdhbW1hIHBwIHBsb3RcbmdhbW1hIDwtIHBnYW1tYSg/Pywgc2hhcGU9YWxwaGEsIHNjYWxlPXRoZXRhKVxucGxvdCg/PywgZ2FtbWEsIHhsYWI9XCJFbXBpcmljYWwgREZcIiwgeWxhYj1cIkdhbW1hIERGXCIsIGNleD0xKVxuYWJsaW5lKDAsMSlcbiMgZ2F1c3NpYW4gcHAgcGxvdFxuZ2F1c3NpYW4gPC0gcG5vcm0oPz8sIG1lYW49bXUsIHNkPXNpZ21hKVxucGxvdCg/PywgZ2F1c3NpYW4sIHhsYWI9XCJFbXBpcmljYWwgREZcIiwgeWxhYj1cIkdhdXNzaWFuIERGXCIsIGNleD0xKVxuYWJsaW5lKDAsMSkiLCJzb2x1dGlvbiI6IiMgRml0IGdhbW1hXG5maXRfZ2FtbWEgPC0gZ2xtKGZvcm11bGE9cG9zaXRpdmVfbG9zcyR5fjEsIFxuICAgICAgICAgICAgICAgICBkYXRhPXBvc2l0aXZlX2xvc3MsIFxuICAgICAgICAgICAgICAgICBmYW1pbHk9R2FtbWEobGluaz1sb2cpKVxudGhldGEgPC0gZXhwKGNvZWYoZml0X2dhbW1hKSkqZ2FtbWEuZGlzcGVyc2lvbihmaXRfZ2FtbWEpICNtdT10aGV0YS9hbHBoYVxuYWxwaGEgPC0gMS9nYW1tYS5kaXNwZXJzaW9uKGZpdF9nYW1tYSlcblxuIyBGaXQgZ2F1c3NpYW5cbmZpdF9nYXVzc2lhbiA8LSBnbG0ocG9zaXRpdmVfbG9zcyR5fjEsIFxuICAgICAgICAgICAgICAgICBkYXRhPXBvc2l0aXZlX2xvc3MsIFxuICAgICAgICAgICAgICAgICBmYW1pbHk9Z2F1c3NpYW4obGluaz1sb2cpKVxubXUgPC0gZXhwKGNvZWYoZml0X2dhdXNzaWFuKSkgIyBvciBtZWFuKHBvc2l0aXZlX2xvc3MkeSlcbnNpZ21hIDwtIHNxcnQoc3VtbWFyeShmaXRfZ2F1c3NpYW4pJGRpc3BlcnNpb24pICMgb3Igc2QocG9zaXRpdmVfbG9zcyR5KSBzbGlnaHRseSBkaWZmZXJlbnRcblxuIyBDcmVhdCBlbXBpcmljYWwgZGlzdHJpYnV0aW9uXG5lbXBpcmljYWwgPC0gZWNkZihwb3NpdGl2ZV9sb3NzJHkpXG5cbiMgZ2FtbWEgcHAgcGxvdFxuZ2FtbWEgPC0gcGdhbW1hKHBvc2l0aXZlX2xvc3MkeSwgc2hhcGU9YWxwaGEsIHNjYWxlPXRoZXRhKVxucGxvdChlbXBpcmljYWwocG9zaXRpdmVfbG9zcyR5KSwgZ2FtbWEsICAjIGVtcGlyaWNhbCgpIHJldHVybnMgdGhlIHBlcmNlbnRpbGVzIGZvciBwb3NpdGl2ZV9sb3NzJHlcbiAgICAgeGxhYj1cIkVtcGlyaWNhbCBERlwiLCB5bGFiPVwiR2FtbWEgREZcIiwgY2V4PTEpXG5hYmxpbmUoMCwxKVxuXG4jIGdhdXNzaWFuIHBwIHBsb3RcbmdhdXNzaWFuIDwtIHBub3JtKHBvc2l0aXZlX2xvc3MkeSwgbWVhbj1tdSwgc2Q9c2lnbWEpXG5wbG90KGVtcGlyaWNhbChwb3NpdGl2ZV9sb3NzJHkpLCBnYXVzc2lhbiwgXG4gICAgIHhsYWI9XCJFbXBpcmljYWwgREZcIiwgeWxhYj1cIkdhdXNzaWFuIERGXCIsIGNleD0xKVxuYWJsaW5lKDAsMSkiLCJzY3QiOiJmaXRfZ2FtbWFtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGZpdF9nYW1tYWA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcImZpdF9nYW1tYVwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgZml0X2dhbW1hYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9Zml0X2dhbW1hbXNnKVxuXG5maXRfZ2F1c3NpYW5tc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGZpdF9nYXVzc2lhbmA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcImZpdF9nYXVzc2lhblwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgZml0X2dhdXNzaWFuYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9Zml0X2dhdXNzaWFubXNnKVxuXG5lbXBpcmljYWxtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGVtcGlyaWNhbGA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcImVtcGlyaWNhbFwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgZW1waXJpY2FsYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9ZW1waXJpY2FsbXNnKVxuXG5nYW1tYW1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgZ2FtbWFgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJnYW1tYVwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgZ2FtbWFgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1nYW1tYW1zZylcblxuZ2F1c3NpYW5tc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGdhdXNzaWFuYD9cIlxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiZ2F1c3NpYW5cIiwgdW5kZWZpbmVkX21zZyA9IFwiTWFrZSBzdXJlIHRvIG5vdCByZW1vdmUgYGdhdXNzaWFuYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9Z2F1c3NpYW5tc2cpXG5cbnN1Y2Nlc3NfbXNnKFwiR29vZCBqb2IhIFRoZSAqcHAqIHBsb3QgaXMgYWJsZSB0byBjb21wYXJlIGN1bXVsYXRpdmUgcHJvYmFiaWxpdGllcyB1bmRlciB0d28gbW9kZWxzLiBGb3IgdGhlc2UgZGF0YSwgdGhlIGdhbW1hIGRpc3RyaWJ1dGlvbiBpcyBjbG9zZXIgdG8gdGhlIGVtcGlyaWNhbCBkaXN0cmlidXRpb24gYW5kIHNvIHByb3ZpZGVzIGEgYmV0dGVyIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkYXRhLlwiKSIsImhpbnQiOiJXZSBzaG93IHRoZSBjb2RlIHRoYXQgdXNlcyA8ZW0+Z2xtPC9lbT4gdG8gZmluZCBwYXJhbWV0ZXJzLiJ9
</div>
<p><strong>Editorial Note</strong>. This exercise uses the <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/glm">glm()</a> function to produce maximum likelihood estimates of certain classes of distributions including the gamma and Gaussian (normal). <a href="https://openacttexts.github.io/Loss-Data-Analytics/C-Severity.html#S:MaxLikeEstimation">Section 3.5 of <em>Loss Data Analytics</em></a> employs a comparable function, <a href="https://www.rdocumentation.org/packages/VGAM/versions/1.1-5/topics/vglm">vlgm()</a>. These functions are even more useful when employed in regression modeling contexts. Although regression modeling is outside the scope of this course, the exercise provides an initial exposure to these functions that are very useful in actuarial practice.</p>
</div>
<div id="exercise.-quantile-quantile-qq-plot" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Exercise. Quantile-Quantile (<span class="math inline">\(qq\)</span>) plot</h3>
<p><strong>Assignment Text</strong></p>
<p>The <span class="math inline">\(pp\)</span> plot shows <em>cumulative</em> distribution functions, discrepancies can sometimes be difficult to detect where a fitted parametric distribution is deficient. As an alternative, it is common to use a quantile-quantile (<span class="math inline">\(qq\)</span>) plot. The Wisconsin Property Fund data has already been read into a data frame called <code>Insample</code> and we also created a subset data which includes only positive loss data called <code>positive_loss</code>. In this exercise, parameter estimates are determined by the method of moments, in contrast to the maximum likelihood approach (with the <code>glm</code> function) taken in Exercise <a href="model-selection-and-estimation.html#Ex:PPPlot">4.2.1</a>. This is approach is simpler and demonstrates an alternative method. Recall that we used the method of moments for the gamma distribution in Exercise <a href="modeling-loss-severity.html#Ex:VisualGamma">3.2.2</a>.</p>
<p>In this tutorial, you will generate <span class="math inline">\(qq\)</span> plots with Gaussian and gamma distribution. Based on the <span class="math inline">\(qq\)</span> plot, which parametric fitted model is closer to the empirical distribution?</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Find sample size, mean, variance, and standard deviation for the positive loss.</li>
<li>Determine the method of moments estimators for the gamma distribution.</li>
<li>Calculate <code>p_value</code>, a list of probabilities used for plotting quantiles.<br />
</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/Normal">qnorm()</a> to create the quantiles for the Gaussian distribution. Generate a <span class="math inline">\(qq\)</span> plot for the positive loss amount <code>y</code> using the Gaussian distribution.</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/Rlab/versions/2.15.1/topics/Gamma">qgamma()</a> to create the quantiles for the gamma distribution. Generate a <span class="math inline">\(qq\)</span> plot for the positive loss amount <code>y</code> using the gamma distribution.</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6Ikluc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpXG5wb3NpdGl2ZV9sb3NzIDwtIHN1YnNldChJbnNhbXBsZSwgeT4wKSIsInNhbXBsZSI6IiMgUG9zaXRpdmUgbG9zcyBudW1iZXIsIG1lYW4gYW5kIHN0YW5kYXJkIGRldmlhdGlvblxubiA8LSBsZW5ndGgoPz8pXG5tZWFuIDwtID8/XG4/PyA8LSBzZChwb3NpdGl2ZV9sb3NzJHkpXG4jIGdhbW1hIHNjYWxlIGFuZCBzaGFwZSBwYXJhbWV0ZXIgZXN0aW1hdGVcbnRoZXRhID0gc2ReMi9tZWFuXG5hbHBoYSA9ID8/XG5cbiMgUHJvYmFiaWxpdGllc1xucF92YWx1ZXMgPC0gc2VxKDEvKG4rMSksIG4vKG4rMSksIGJ5PTEvKG4rMSkpXG5cbiMgR2F1c3NpYW4gUVEgUGxvdFxuZ2F1c3NpYW5fcXVhbnRpbGVzIDwtIHFub3JtKHBfdmFsdWVzLCA/PywgPz8pXG5wbG90KHNvcnQoZ2F1c3NpYW5fcXVhbnRpbGVzKSwgc29ydChwb3NpdGl2ZV9sb3NzJHkpLCBcbiAgICAgeGxhYiA9ICdGaXR0ZWQgUXVhbnRpbGVzIGZyb20gR2F1c3NpYW4gRGlzdHJpYnV0aW9uJywgXG4gICAgIHlsYWIgPSAnRW1waXJpY2FsIFF1YW50aWxlcyBvZiBQb3NpdGl2ZSBMb3NzJywgXG4gICAgIG1haW4gPSAnR2F1c3NpYW4gUVEgUGxvdCBvZiBQb3NpdGl2ZSBMb3NzJylcbmFibGluZSgwLDEpXG5cbiMgR2FtbWEgUVEgUGxvdFxuZ2FtbWFfcXVhbnRpbGVzIDwtIHFnYW1tYSg/PylcbnBsb3Qoc29ydChnYW1tYV9xdWFudGlsZXMpLCBzb3J0KHBvc2l0aXZlX2xvc3MkeSksIFxuICAgICB4bGFiID0gJ0ZpdHRlZCBRdWFudGlsZXMgZnJvbSBHYW1tYSBEaXN0cmlidXRpb24nLCBcbiAgICAgeWxhYiA9ICdFbXBpcmljYWwgUXVhbnRpbGVzIG9mIFBvc2l0aXZlIExvc3MnLCBcbiAgICAgbWFpbiA9ICdHYW1tYSBRUSBQbG90IG9mIFBvc2l0aXZlIExvc3MnKVxuYWJsaW5lKDAsMSkiLCJzb2x1dGlvbiI6IiMgUG9zaXRpdmUgbG9zcyBudW1iZXIsIG1lYW4gYW5kIHN0YW5kYXJkIGRldmlhdGlvblxubiA8LSBsZW5ndGgocG9zaXRpdmVfbG9zcyR5KVxubWVhbiA8LSBtZWFuKHBvc2l0aXZlX2xvc3MkeSlcbnNkIDwtIHNkKHBvc2l0aXZlX2xvc3MkeSlcbiMgZ2FtbWEgc2NhbGUgYW5kIHNoYXBlIHBhcmFtZXRlciBlc3RpbWF0ZVxudGhldGEgPSBzZF4yL21lYW5cbmFscGhhID0gbWVhbl4yL3NkXjIgXG5cbiMgUHJvYmFiaWxpdGllc1xucF92YWx1ZXMgPC0gc2VxKDEvKG4rMSksIG4vKG4rMSksIGJ5PTEvKG4rMSkpXG5cbiMgR2F1c3NpYW4gUVEgUGxvdFxuZ2F1c3NpYW5fcXVhbnRpbGVzIDwtIHFub3JtKHBfdmFsdWVzLCBtZWFuLCBzZClcbnBsb3Qoc29ydChnYXVzc2lhbl9xdWFudGlsZXMpLCBzb3J0KHBvc2l0aXZlX2xvc3MkeSksIFxuICAgICB4bGFiID0gJ0ZpdHRlZCBRdWFudGlsZXMgZnJvbSBHYXVzc2lhbiBEaXN0cmlidXRpb24nLCBcbiAgICAgeWxhYiA9ICdFbXBpcmljYWwgUXVhbnRpbGVzIG9mIFBvc2l0aXZlIExvc3MnLCBcbiAgICAgbWFpbiA9ICdHYXVzc2lhbiBRUSBQbG90IG9mIFBvc2l0aXZlIExvc3MnKVxuYWJsaW5lKDAsMSlcblxuIyBHYW1tYSBRUSBQbG90XG5nYW1tYV9xdWFudGlsZXMgPC0gcWdhbW1hKHBfdmFsdWVzLCBzaGFwZSA9IGFscGhhICwgc2NhbGUgPSB0aGV0YSlcbnBsb3Qoc29ydChnYW1tYV9xdWFudGlsZXMpLCBzb3J0KHBvc2l0aXZlX2xvc3MkeSksIFxuICAgICB4bGFiID0gJ0ZpdHRlZCBRdWFudGlsZXMgZnJvbSBHYW1tYSBEaXN0cmlidXRpb24nLCBcbiAgICAgeWxhYiA9ICdFbXBpcmljYWwgUXVhbnRpbGVzIG9mIFBvc2l0aXZlIExvc3MnLCBcbiAgICAgbWFpbiA9ICdHYW1tYSBRUSBQbG90IG9mIFBvc2l0aXZlIExvc3MnKVxuYWJsaW5lKDAsMSkiLCJzY3QiOiJubXNnIDwtIFwiRGlkIHlvdSBjb3JyZWN0bHkgc3BlY2lmeSB0aGUgb2JqZWN0IGBuYD9cIlxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiblwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgbmAhXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPW5tc2cpXG5cbm1lYW5tc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYG1lYW5gP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJtZWFuXCIsIHVuZGVmaW5lZF9tc2cgPSBcIk1ha2Ugc3VyZSB0byBub3QgcmVtb3ZlIGBtZWFuYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9bWVhbm1zZylcblxuYWxwaGFtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGFscGhhYD9cIlxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiYWxwaGFcIiwgdW5kZWZpbmVkX21zZyA9IFwiTWFrZSBzdXJlIHRvIG5vdCByZW1vdmUgYGFscGhhYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9YWxwaGFtc2cpXG5cbmdhdXNzaWFuX3Ftc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYGdhdXNzaWFuX3F1YW50aWxlc2A/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcImdhdXNzaWFuX3F1YW50aWxlc1wiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgZ2F1c3NpYW5fcXVhbnRpbGVzYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9Z2F1c3NpYW5fcW1zZylcblxuZ2FtbWFfcW1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgZ2FtbWFfcXVhbnRpbGVzYD9cIlxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwiZ2FtbWFfcXVhbnRpbGVzXCIsIHVuZGVmaW5lZF9tc2cgPSBcIk1ha2Ugc3VyZSB0byBub3QgcmVtb3ZlIGBnYW1tYV9xdWFudGlsZXNgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1nYW1tYV9xbXNnKVxuXG5zdWNjZXNzX21zZyhcIkdvb2Qgam9iISBUaGUgKnFxKiBwbG90IGNvbXBhcmVzIHR3byBmaXR0ZWQgbW9kZWxzIHRocm91Z2ggdGhlaXIgcXVhbnRpbGVzLiBBZ2FpbiwgdGhlIGdhbW1hIGlzIGJldHRlciBmaXQuXCIpIiwiaGludCI6IllvdSBjYW4gZGlyZWN0bHkgdXNlIHRoZSBzYW1wbGUgbWVhbiBhbmQgc3RhbmRhcmQgZGV2aWF0aW9uIHRvIGZpbmQgcGFyYW1ldGVycyBmb3IgdGhlIEdhdXNzaWFuIChub3JtYWwpIGRpc3RyaWJ1dGlvbi4ifQ==
</div>
<hr />
</div>
<div id="exercise.-kolmogorov-smirnov-statistic" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Exercise. Kolmogorov-Smirnov statistic</h3>
<p><strong>Assignment Text</strong></p>
<p>For reporting results, it can be effective to supplement the graphical displays with selected statistics that summarize model goodness of fit. For background, you can learn more about the Kolmogorov-Smirnov statistic and other goodness of fit statistics in
<a href="https://openacttexts.github.io/Loss-Data-Analytics/C-ModelSelection.html#S:MS:ToolsModelSelection">Section 4.1.2 of <em>Loss Data Analytics</em></a>.</p>
<p>The Wisconsin Property Fund data has already been read into a data frame called <code>Insample</code>. Previously, we also created a subset, <code>positive_loss</code>, which included only positive losses. Perform Kolmogorov-Smirnov tests.</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Compare the empirical positive loss amount <code>y</code> distribution to gamma distribution by performing the Kolmogorov-Smirnov test.</li>
<li>Use the function <a href="https://www.rdocumentation.org/packages/dgof/versions/1.2/topics/ks.test">ks.test</a> to perform Kolmogorov-Smirnov test.</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6ImxpYnJhcnkoTUFTUylcbmxpYnJhcnkoc3RhdHMpXG5cbkluc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpXG5cbiMgU3Vic2V0IGZvciBwb3NpdGl2ZSBsb3NzXG5wb3NpdGl2ZV9sb3NzIDwtIHN1YnNldChJbnNhbXBsZSwgeT4wKVxuXG4jIEZpdCBnYW1tYVxuZml0X2dhbW1hIDwtIGdsbShwb3NpdGl2ZV9sb3NzJHl+MSwgXG4gICAgICAgICAgICAgICAgIGRhdGE9cG9zaXRpdmVfbG9zcywgXG4gICAgICAgICAgICAgICAgIGZhbWlseT1HYW1tYShsaW5rPWxvZykpXG50aGV0YSA8LSBleHAoY29lZihmaXRfZ2FtbWEpKSpnYW1tYS5kaXNwZXJzaW9uKGZpdF9nYW1tYSkgI211PXRoZXRhL2FscGhhXG5hbHBoYSA8LSAxL2dhbW1hLmRpc3BlcnNpb24oZml0X2dhbW1hKVxuXG5nYW1tYSA8LSBwZ2FtbWEocG9zaXRpdmVfbG9zcyR5LCBzaGFwZT1hbHBoYSwgc2NhbGU9dGhldGEpIiwic2FtcGxlIjoiIyBQZXJmb3JtcyBLb2xtb2dvcm92LVNtaXJub3YgdGVzdHNcbmtzLnRlc3QoPz8sIFwicGdhbW1hXCIsID8/LCA/PylcblxuIyBQZXJmb3JtcyBLb2xtb2dvcm92LVNtaXJub3YgdGVzdHNcbmtzLnRlc3QoPz8sID8/KSIsInNvbHV0aW9uIjoiIyBQZXJmb3JtcyBLb2xtb2dvcm92LVNtaXJub3YgdGVzdHNcbmtzLnRlc3QocG9zaXRpdmVfbG9zcyR5LCBcInBnYW1tYVwiLCB0aGV0YSwgYWxwaGEpXG5cbiMgUGVyZm9ybXMgS29sbW9nb3Jvdi1TbWlybm92IHRlc3RzXG5rcy50ZXN0KHBvc2l0aXZlX2xvc3MkeSwgZ2FtbWEpIiwic2N0Ijoia3MudGVzdDFtc2c8LVwiVXNlIGBrcy50ZXN0YCBvbiB0aGUgYHBvc2l0aXZlX2xvc3MkeWAgb2JqZWN0XCJcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwia3MudGVzdFwiLCBub3RfY2FsbGVkX21zZz1rcy50ZXN0MW1zZykgJT4lIGNoZWNrX3Jlc3VsdCgpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPWtzLnRlc3QxbXNnKVxuXG5zdWNjZXNzX21zZyhcIkFjY29yZGluZyB0byB0aGUgS29sbW9nb3Jvdi1TbWlybm92IHRlc3QsIHRoZSB0d28gZGlzdHJpYnV0aW9uIGZ1bmN0aW9ucyBhcmUgbm90IGVxdWFsLiBXZSBoYXZlIHNlZW4gc29tZSBkZXZpYXRpb25zIGZyb20gdGhlICpxcSogZ3JhcGggYW5kICpwcCogZ3JhcGguIFdlIG5lZWQgdG8gZmluZCBhIGJldHRlciBwYXJhbWV0cmljIG1vZGVsLlwiKSIsImhpbnQiOiJUYWtlIHNvbWUgdGltZSB0byBleHBsb3JlIHRoZSBvbmxpbmUgPGNvZGU+UjwvY29kZT4gZG9jdW1lbnRhdGlvbi4gPGNvZGU+dGhldGE8L2NvZGU+LCA8Y29kZT5hbHBoYTwvY29kZT4sIGFuZCA8Y29kZT5nYW1tYTwvY29kZT4gY2FuIGJlIGZvdW5kIGluIHRoZSBwcmV2aW91cyBxdWVzdGlvbi4ifQ==
</div>
</div>
</div>
<div id="model-selection-likelihood-ratio-tests-and-goodness-of-fit" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Model Selection: Likelihood Ratio Tests and Goodness of Fit</h2>
<div id="video-likelihood-ratio-tests-and-goodness-of-fit" class="section level4 unnumbered">
<h4>Video: Likelihood Ratio Tests and Goodness of Fit</h4>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298521/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_sepee6wr&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_ud4hj85k" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
</div>
<div id="overheads-likelihood-ratio-tests-and-goodness-of-fit-click-tab-to-view" class="section level4 unnumbered">
<h4>Overheads: Likelihood Ratio Tests and Goodness of Fit (Click Tab to View)</h4>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'Sect422A')">A. Likelihood Ratio Test</button>
<button class="tablinks" onclick="openTab(event, 'Sect422B')">B. Likelihood Ratio Test Process</button>
<button class="tablinks" onclick="openTab(event, 'Sect422C')">C. Information Criteria: Exam STAM Version</button>
<button class="tablinks" onclick="openTab(event, 'Sect422D')">D. Information Criteria: Alternative Version</button>
</div>
<div id="Sect422A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=26" width="100%" height="400"> </iframe>
</div>
<div id="Sect422B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=27" width="100%" height="400"> </iframe>
</div>
<div id="Sect422C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=28" width="100%" height="400"> </iframe>
</div>
<div id="Sect422D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=29" width="100%" height="400"> </iframe>
</div>
<hr />
<!-- ```{r child = './Quizzes/Quiz42.html', eval = QUIZ} -->
<!-- ``` -->
</div>
</div>
<div id="estimation-using-modified-data-nonparametric-approach" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Estimation using Modified Data: Nonparametric Approach</h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Describe grouped and censored truncated data.</li>
<li>Estimate distributions nonparametrically based on grouped and censored data.</li>
</ul>
<hr />
<div id="video-nonparametric-estimation-using-modified-data" class="section level4 unnumbered">
<h4>Video: Nonparametric Estimation using Modified Data</h4>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298521/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_2pposnie&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_156eapyx" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
</div>
<div id="overheads-nonparametric-estimation-using-modified-data-click-tab-to-view" class="section level4 unnumbered">
<h4>Overheads: Nonparametric Estimation using Modified Data (Click Tab to View)</h4>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'Sect431A')">A. Grouped Data</button>
<button class="tablinks" onclick="openTab(event, 'Sect431B')">B. Censored Data</button>
<button class="tablinks" onclick="openTab(event, 'Sect431C')">C. Kaplan-Meier Product Limit Estimator</button>
</div>
<div id="Sect431A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=31" width="100%" height="400"> </iframe>
</div>
<div id="Sect431B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=32" width="100%" height="400"> </iframe>
</div>
<div id="Sect431C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=33" width="100%" height="400"> </iframe>
</div>
</div>
<div id="Ex:KMEstimation" class="section level3" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Exercise. Kaplan-Meier Estimation based on Censored Data</h3>
<p><strong>Assignment Text</strong></p>
<p>This exercise is based on the Wisconsin Property Fund data. These data consist of claim experience for fund members over the years 2006-2010, inclusive. A subset which includes only positive loss data has been read into a data frame called <code>positive_loss</code>. In part because the units of observations are governmental units, there are no upper limits on these policies. So, simply to illustrate coding for censored data, in this exercise we impose an upper limit of 50,000 on the first 100 claims as well as 100,000 on the remainder. (As an analyst, this part of the exercise could be useful to you as you test the sensitivity of policy limits.)</p>
<p>After adding censoring information to the data, we use Kaplan-Meier technique to estimate the claims survival distribution (recall that the survival function is one minus the distribution function).</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Introduce policy limits as part of the <code>positive_loss</code> data.</li>
<li>Create a new variable, <code>AmountPaid</code>, that is the smaller of the policy limit and the claim amount. In the following sample code, we show how to use the <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">dplyr</a> data wrangling package.</li>
<li>Also create a binary variable, <code>UnCensored</code>, that is one if the claim is less than or equal to the policy limit, and zero otherwise.</li>
<li>To determine the Kaplan-Meier product limit estimator, use <a href="https://www.rdocumentation.org/packages/survival/versions/2.11-4/topics/survfit">survfit()</a> to estimate the survival function for the right-censored empirical distribution for the positive loss amount <code>y</code>. Plot the result.</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6Ikluc2FtcGxlIDwtIHJlYWQuY3N2KFwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL09wZW5BY3RUZXh0cy9MREFDb3Vyc2UxL21haW4vRGF0YS9JbnNhbXBsZS5jc3ZcIiwgaGVhZGVyPVQsIG5hLnN0cmluZ3M9YyhcIi5cIiksIHN0cmluZ3NBc0ZhY3RvcnM9RkFMU0UpXG4jIFN1YnNldCBmb3IgcG9zaXRpdmUgbG9zc1xucG9zaXRpdmVfbG9zcyA8LSBzdWJzZXQoSW5zYW1wbGUsIHk+MCkiLCJzYW1wbGUiOiIjIEFkZCBwb2xpY3kgbGltaXQgZm9yIHBvc2l0aXZlIGxvc3MgZGF0YVxucG9zaXRpdmVfbG9zcyRQb2xpY3lMaW1pdCA8LSA/P1xucG9zaXRpdmVfbG9zcyRQb2xpY3lMaW1pdFsxOjEwMF0gPC0gPz9cblxuIyBBZGQgQW1vdW50UGFpZCBjb2x1bW46IHVzaW5nIGRwbHlyIFxubGlicmFyeShkcGx5cilcbnBvc2l0aXZlX2xvc3NfbGltaXQgPC0gcG9zaXRpdmVfbG9zcyAlPiUgcm93d2lzZSgpICU+JSBtdXRhdGUoQW1vdW50UGFpZD1taW4oeSwgPz8pKVxuXG4jIEFkZCBVbkNlbnNvcmVkIGNvbHVtbjogdHJhZGl0aW9uYWwgbWV0aG9kXG5wb3NpdGl2ZV9sb3NzX2xpbWl0JFVuQ2Vuc29yZWQgPC0gPz9cblxuIyBLTSBlc3RpbWF0ZVxubGlicmFyeShzdXJ2aXZhbCkgXG5LTTAgPC0gc3VydmZpdChTdXJ2KEFtb3VudFBhaWQsIFVuQ2Vuc29yZWQpIH4gMSwgdHlwZT1cImthcGxhbi1tZWllclwiLCBkYXRhPT8/KVxuXG4jIHBsb3QgZnVuY3Rpb24gc3Vydml2YWwgZnVuY3Rpb25cbnBsb3QoPz8sIGNvbmYuaW50PUZBTFNFLCB4bGFiPVwieFwiLCB5bGFiPVwiS2FwbGFuIE1laWVyIFN1cnZpdmFsXCIpIiwic29sdXRpb24iOiIjIEFkZCBwb2xpY3kgbGltaXQgZm9yIHBvc2l0aXZlIGxvc3MgZGF0YVxucG9zaXRpdmVfbG9zcyRQb2xpY3lMaW1pdCA8LSAxMDAwMDBcbnBvc2l0aXZlX2xvc3MkUG9saWN5TGltaXRbMToxMDBdIDwtIDUwMDAwXG5cbiMgQWRkIEFtb3VudFBhaWQgY29sdW1uOiB1c2luZyBkcGx5ciBcbmxpYnJhcnkoZHBseXIpXG5wb3NpdGl2ZV9sb3NzX2xpbWl0IDwtIHBvc2l0aXZlX2xvc3MgJT4lIHJvd3dpc2UoKSAlPiUgbXV0YXRlKEFtb3VudFBhaWQ9bWluKHksIFBvbGljeUxpbWl0KSlcblxuIyBBZGQgVW5DZW5zb3JlZCBjb2x1bW46IHRyYWRpdGlvbmFsIG1ldGhvZFxucG9zaXRpdmVfbG9zc19saW1pdCRVbkNlbnNvcmVkIDwtIDEqKHBvc2l0aXZlX2xvc3NfbGltaXQkQW1vdW50UGFpZCA8IHBvc2l0aXZlX2xvc3NfbGltaXQkUG9saWN5TGltaXQpXG5cbiMgS00gZXN0aW1hdGVcbmxpYnJhcnkoc3Vydml2YWwpIFxuS00wIDwtIHN1cnZmaXQoU3VydihBbW91bnRQYWlkLCBVbkNlbnNvcmVkKSB+IDEsIHR5cGU9XCJrYXBsYW4tbWVpZXJcIiwgZGF0YT1wb3NpdGl2ZV9sb3NzX2xpbWl0KVxuXG4jIHBsb3QgZnVuY3Rpb24gc3Vydml2YWwgZnVuY3Rpb25cbnBsb3QoS00wLCBjb25mLmludD1GQUxTRSwgeGxhYj1cInhcIiwgeWxhYj1cIkthcGxhbiBNZWllciBTdXJ2aXZhbFwiKSIsInNjdCI6InBvc2l0aXZlX2xvc3Ntc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYHBvc2l0aXZlX2xvc3NgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJwb3NpdGl2ZV9sb3NzXCIsIHVuZGVmaW5lZF9tc2cgPSBcIk1ha2Ugc3VyZSB0byBub3QgcmVtb3ZlIGBwb3NpdGl2ZV9sb3NzYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9cG9zaXRpdmVfbG9zc21zZylcblxuS00wbXNnIDwtIFwiRGlkIHlvdSBjb3JyZWN0bHkgc3BlY2lmeSB0aGUgb2JqZWN0IGBLTTBgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJLTTBcIiwgdW5kZWZpbmVkX21zZyA9IFwiTWFrZSBzdXJlIHRvIG5vdCByZW1vdmUgYEtNMGAhXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPUtNMG1zZylcblxucGxvdDRtc2c8LVwiVXNlIGBwbG90YCBvbiB0aGUgYEtNMGAgb2JqZWN0XCJcbmV4KCkgJT4lIGNoZWNrX2Z1bmN0aW9uKFwicGxvdFwiLCBub3RfY2FsbGVkX21zZz1wbG90NG1zZykgJT4lIGNoZWNrX3Jlc3VsdCgpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPXBsb3Q0bXNnKVxuXG5zdWNjZXNzX21zZyhcIkV4Y2VsbGVudCEgSGFuZGxpbmcgZGF0YSBpcyBhbiBpbXBvcnRhbnQgYXNwZWN0IG9mIHRoZSBhY3R1YXJpYWwgZnVuY3Rpb24uIFRoZXJlIGFyZSBtYW55IHdheXMgdG8gZG8gZGF0YSBtYW5pcHVsYXRpb24uIFlvdSB3aWxsIGZpbmQgdGhlIGZsZXhpYmlsaXR5IGFmZm9yZGVkIGJ5IGRwbHlyIHBhY2thZ2UgdG8gYmUgdGVycmlmaWMgYXMgeW91IGJlY29tZSBmYW1pbGlhciB3aXRoIGl0LlwiKSIsImhpbnQiOiJXZSB3aWxsIHVzZSA8Y29kZT5kcGx5cjwvY29kZT4gYW5kIHRyYWRpdGlvbmFsIG1ldGhvZHMgdG8gcGVyZm9ybSBkYXRhIHdyYW5nbGluZy4ifQ==
</div>
</div>
<div id="exercise.-nonparametric-estimation-using-truncated-and-censored-information" class="section level3" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Exercise. Nonparametric Estimation using Truncated and Censored Information</h3>
<p>As described in <a href="https://openacttexts.github.io/Loss-Data-Analytics/C-ModelSelection.html#nonparametric-estimation-using-modified-data">Section 4.3.2.2 of <em>Loss Data Analytics</em></a>, it is very common to have data subject to both deductibles and upper limits. As emphasized in the previous exercise, upper limits typically means that the data are censored from the right. Typically, in the presence of deductibles, the data are truncated from the left (that is, we usually donâ€™t see a claim less than the deductible). We make that assumption for this exercise, using the data from Exercise <a href="model-selection-and-estimation.html#Ex:KMEstimation">4.4.1</a> where the deductible variable is called <code>Deduct</code>.</p>
<p>With these modified data, we again estimate the survival distribution. The following code guides you through the estimation using both the Kaplan-Meier Product Limit and the Nelson-Ã„alen estimators. These methods are described in more detail in <a href="https://openacttexts.github.io/Loss-Data-Analytics/C-ModelSelection.html#nonparametric-estimation-using-modified-data">Section 4.3.2.2 of <em>Loss Data Analytics</em></a>.</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Calculate and plot the KM estimate of the survival function without deductible information, that is, as in the prior exercise.</li>
<li>Calculate and plot the KM estimate with deductible information.</li>
<li>Calculate and plot the Nelson-Ã„alen estimate of the survival function without deductible information.</li>
<li>Calculate and plot the Nelson-Ã„alen estimate with deductible information.</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJwcmVfZXhlcmNpc2VfY29kZSI6ImxpYnJhcnkoTUFTUylcbmxpYnJhcnkoZHBseXIpXG5saWJyYXJ5KHN1cnZpdmFsKSBcblxuSW5zYW1wbGUgPC0gcmVhZC5jc3YoXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vT3BlbkFjdFRleHRzL0xEQUNvdXJzZTEvbWFpbi9EYXRhL0luc2FtcGxlLmNzdlwiLCBoZWFkZXI9VCwgbmEuc3RyaW5ncz1jKFwiLlwiKSwgc3RyaW5nc0FzRmFjdG9ycz1GQUxTRSlcblxuIyBTdWJzZXQgZm9yIHBvc2l0aXZlIGxvc3NcbnBvc2l0aXZlX2xvc3MgPC0gc3Vic2V0KEluc2FtcGxlLCB5PjApXG5wb3NpdGl2ZV9sb3NzIDwtIHN1YnNldChwb3NpdGl2ZV9sb3NzLCBEZWR1Y3QgPD0geSlcblxuIyBBZGQgcG9saWN5IGxpbWl0IGZvciBwb3NpdGl2ZSBsb3NzIGRhdGFcbnBvc2l0aXZlX2xvc3MkUG9saWN5TGltaXQgPC0gMTAwMDAwXG5wb3NpdGl2ZV9sb3NzJFBvbGljeUxpbWl0WzE6MTAwXSA8LSA1MDAwMFxuXG4jIEFkZCBhY3R1YWwgcGF5bWVudCBjb2x1bW46IHVzaW5nIGRwbHlyIFxucG9zaXRpdmVfbG9zc19saW1pdCA8LSBwb3NpdGl2ZV9sb3NzICU+JSByb3d3aXNlKCkgJT4lIG11dGF0ZShBbW91bnRQYWlkPW1pbih5LCBQb2xpY3lMaW1pdCkrLjAxKVxuXG4jIEFkZCBVbkNlbnNvcmVkIGNvbHVtbjogdHJhZGl0aW9uYWwgbWV0aG9kXG5wb3NpdGl2ZV9sb3NzX2xpbWl0JFVuQ2Vuc29yZWQgPC0gMSoocG9zaXRpdmVfbG9zc19saW1pdCRBbW91bnRQYWlkIDwgcG9zaXRpdmVfbG9zc19saW1pdCRQb2xpY3lMaW1pdCkiLCJzYW1wbGUiOiJsaWJyYXJ5KHN1cnZpdmFsKVxuIyBDYWxjdWxhdGUgYW5kIHBsb3QgdGhlIEtNIGVzdGltYXRlIHdpdGhvdXQgZGVkdWN0aWJsZSBpbmZvcm1hdGlvblxuS00wIDwtIHN1cnZmaXQoPz8sIHR5cGU9XCJrYXBsYW4tbWVpZXJcIiwgZGF0YT1wb3NpdGl2ZV9sb3NzX2xpbWl0KVxucGxvdChLTTAsIGNvbmYuaW50PUZBTFNFLCB4bGFiPVwieFwiLCB5bGFiPVwiS2FwbGFuIE1laWVyIFN1cnZpdmFsXCIpXG5cbiMgQ2FsY3VsYXRlIGFuZCBwbG90IHRoZSBLTSBlc3RpbWF0ZSB3aXRoIGRlZHVjdGlibGUgaW5mb3JtYXRpb25cbktNMSA8LSBzdXJ2Zml0KFN1cnYoRGVkdWN0LCBBbW91bnRQYWlkLCBVbkNlbnNvcmVkKSB+IDEsIHR5cGU9XCJrYXBsYW4tbWVpZXJcIiwgZGF0YT0/PylcbnBsb3QoPz8sIGNvbmYuaW50PUZBTFNFLCB4bGFiPVwieFwiLCB5bGFiPVwiS2FwbGFuIE1laWVyIFN1cnZpdmFsXCIpXG5cbiMgQ2FsY3VsYXRlIGFuZCBwbG90IHRoZSBOZWxzb24tQWFsZW4gZXN0aW1hdGUgd2l0aG91dCBkZWR1Y3RpYmxlIGluZm9ybWF0aW9uXG5OQTAgPC0gc3VydmZpdCg/PywgdHlwZT1cImZsZW1pbmctaGFycmluZ3RvblwiLCBkYXRhPT8/KVxucGxvdCg/PywgY29uZi5pbnQ9RkFMU0UsIHhsYWI9XCJ4XCIsIHlsYWI9XCJOZWxzb24tQWFsZW4gU3Vydml2YWxcIilcblxuIyBDYWxjdWxhdGUgYW5kIHBsb3QgdGhlIE5lbHNvbi1BYWxlbiBlc3RpbWF0ZSB3aXRoIGRlZHVjdGlibGUgaW5mb3JtYXRpb25cbk5BMSA8LSBzdXJ2Zml0KD8/IH4gMSwgdHlwZT1cImZsZW1pbmctaGFycmluZ3RvblwiLCBkYXRhPT8/KVxucGxvdCg/PywgY29uZi5pbnQ9RkFMU0UsIHhsYWI9XCJ4XCIsIHlsYWI9XCJOZWxzb24tQWFsZW4gU3Vydml2YWxcIikiLCJzb2x1dGlvbiI6ImxpYnJhcnkoc3Vydml2YWwpXG4jIENhbGN1bGF0ZSBhbmQgcGxvdCB0aGUgS00gZXN0aW1hdGUgd2l0aG91dCBkZWR1Y3RpYmxlIGluZm9ybWF0aW9uXG5LTTAgPC0gc3VydmZpdChTdXJ2KEFtb3VudFBhaWQsIFVuQ2Vuc29yZWQpIH4gMSwgdHlwZT1cImthcGxhbi1tZWllclwiLCBkYXRhPXBvc2l0aXZlX2xvc3NfbGltaXQpXG5wbG90KEtNMCwgY29uZi5pbnQ9RkFMU0UsIHhsYWI9XCJ4XCIsIHlsYWI9XCJLYXBsYW4gTWVpZXIgU3Vydml2YWxcIilcblxuIyBDYWxjdWxhdGUgYW5kIHBsb3QgdGhlIEtNIGVzdGltYXRlIHdpdGggZGVkdWN0aWJsZSBpbmZvcm1hdGlvblxuS00xIDwtIHN1cnZmaXQoU3VydihEZWR1Y3QsIEFtb3VudFBhaWQsIFVuQ2Vuc29yZWQpIH4gMSwgdHlwZT1cImthcGxhbi1tZWllclwiLCBkYXRhPXBvc2l0aXZlX2xvc3NfbGltaXQpXG5wbG90KEtNMSwgY29uZi5pbnQ9RkFMU0UsIHhsYWI9XCJ4XCIsIHlsYWI9XCJLYXBsYW4gTWVpZXIgU3Vydml2YWxcIilcblxuIyBDYWxjdWxhdGUgYW5kIHBsb3QgdGhlIE5lbHNvbi1BYWxlbiBlc3RpbWF0ZSB3aXRob3V0IGRlZHVjdGlibGUgaW5mb3JtYXRpb25cbk5BMCA8LSBzdXJ2Zml0KFN1cnYoQW1vdW50UGFpZCwgVW5DZW5zb3JlZCkgfiAxLCB0eXBlPVwiZmxlbWluZy1oYXJyaW5ndG9uXCIsIGRhdGE9cG9zaXRpdmVfbG9zc19saW1pdClcbnBsb3QoTkEwLCBjb25mLmludD1GQUxTRSwgeGxhYj1cInhcIiwgeWxhYj1cIk5lbHNvbi1BYWxlbiBTdXJ2aXZhbFwiKVxuXG4jIENhbGN1bGF0ZSBhbmQgcGxvdCB0aGUgTmVsc29uLUFhbGVuIGVzdGltYXRlIHdpdGggZGVkdWN0aWJsZSBpbmZvcm1hdGlvblxuTkExIDwtIHN1cnZmaXQoU3VydihEZWR1Y3QsIEFtb3VudFBhaWQsIFVuQ2Vuc29yZWQpIH4gMSwgdHlwZT1cImZsZW1pbmctaGFycmluZ3RvblwiLCBkYXRhPXBvc2l0aXZlX2xvc3NfbGltaXQpXG5wbG90KE5BMSwgY29uZi5pbnQ9RkFMU0UsIHhsYWI9XCJ4XCIsIHlsYWI9XCJOZWxzb24tQWFsZW4gU3Vydml2YWxcIikiLCJzY3QiOiJLTTBtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYEtNMGA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIktNMFwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgS00wYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9S00wbXNnKVxuXG5LTTFtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYEtNMWA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIktNMVwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgS00xYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9S00xbXNnKVxuXG5OQTBtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYE5BMGA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIk5BMFwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgTkEwYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9TkEwbXNnKVxuXG5OQTFtc2cgPC0gXCJEaWQgeW91IGNvcnJlY3RseSBzcGVjaWZ5IHRoZSBvYmplY3QgYE5BMWA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcIk5BMVwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgTkExYCFcIikgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9TkExbXNnKVxuXG5zdWNjZXNzX21zZyhcIkV4Y2VsbGVudCEgIE5vdyB3ZSBjYW4gc2VlIGhvdyB0aGUgcG9saWN5IGxpbWl0IGFuZCBkZWR1Y3RpYmxlIGluZm9ybWF0aW9uIGNoYW5nZSBlc3RpbWF0ZXMgb2YgYSBzdXJ2aXZhbCBjdXJ2ZS5cIikiLCJoaW50IjoiVGFrZSBzb21lIHRpbWUgdG8gZXhwbG9yZSB0aGUgb25saW5lIDxjb2RlPlI8L2NvZGU+IGRvY3VtZW50YXRpb24uPC9wPlxuXG48cD5Vc2UgdGhlIGZ1bmN0aW9uIFN1cnYoKSB0byBjcmVhdGUgdGhlIGVtcGlyaWNhbCBkaXN0cmlidXRpb24uIn0=
</div>
</div>
</div>
<div id="estimation-using-modified-data-parametric-approach" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Estimation using Modified Data: Parametric Approach</h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Describe grouped and censored truncated data.</li>
<li>Estimate parametric distributions based on grouped, censored,and truncated data.</li>
</ul>
<hr />
<div id="video-parametric-estimation-using-modified-data" class="section level4 unnumbered">
<h4>Video: Parametric Estimation using Modified Data</h4>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298521/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_sfh9ihwy&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_90krq256" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
</div>
<div id="overheads-parametric-estimation-using-modified-data-click-tab-to-view" class="section level4 unnumbered">
<h4>Overheads: Parametric Estimation using Modified Data (Click Tab to View)</h4>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'Sect432A')">A. Truncated Data</button>
<button class="tablinks" onclick="openTab(event, 'Sect432B')">B. Maximum Likelihood Estimation with Grouped Data</button>
<button class="tablinks" onclick="openTab(event, 'Sect432C')">C. Censored Data Likelihood I</button>
<button class="tablinks" onclick="openTab(event, 'Sect432D')">D. Censored Data Likelihood II</button>
<button class="tablinks" onclick="openTab(event, 'Sect432E')">E. Maximum Likelihood Estimation Using Censored and Truncated Data I</button>
<button class="tablinks" onclick="openTab(event, 'Sect432F')">F. Maximum Likelihood Estimation Using Censored and Truncated Data II</button>
</div>
<div id="Sect432A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=36" width="100%" height="400"> </iframe>
</div>
<div id="Sect432B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=37" width="100%" height="400"> </iframe>
</div>
<div id="Sect432C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=38" width="100%" height="400"> </iframe>
</div>
<div id="Sect432D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=39" width="100%" height="400"> </iframe>
</div>
<div id="Sect432E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=40" width="100%" height="400"> </iframe>
</div>
<div id="Sect432F" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=41" width="100%" height="400"> </iframe>
</div>
<!-- ```{r child = './Quizzes/Quiz43.html', eval = QUIZ} -->
<!-- ``` -->
</div>
</div>
<div id="bayesian-inference" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Bayesian Inference</h2>
<hr />
<p>In this section, you learn how to:</p>
<ul>
<li>Describe the Bayesian model as an alternative to the frequentist approach and summarize the five components of this modeling approach.</li>
<li>Summarize posterior distributions of parameters and use these posterior distributions to predict new outcomes.</li>
<li>Use conjugate distributions to determine posterior distributions of parameters.</li>
</ul>
<hr />
<div id="video-bayesian-inference" class="section level4 unnumbered">
<h4>Video: Bayesian Inference</h4>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298521/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_ko3jc8el&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_vo11odg9" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
</div>
<div id="overheads-bayesian-inference-click-tab-to-view" class="section level4 unnumbered">
<h4>Overheads: Bayesian Inference (Click Tab to View)</h4>
<div class="tab">
<button class="tablinks" onclick="openTab(event, 'Sect44A')">A. Bayesian Inference</button>
<button class="tablinks" onclick="openTab(event, 'Sect44B')">B. Bayesian Inference Strengths</button>
<button class="tablinks" onclick="openTab(event, 'Sect44C')">C. Bayesian Model I</button>
<button class="tablinks" onclick="openTab(event, 'Sect44D')">D. Bayesian Model II</button>
<button class="tablinks" onclick="openTab(event, 'Sect44E')">E. Posterior Computation</button>
<button class="tablinks" onclick="openTab(event, 'Sect44F')">F. Poissonâ€“Gamma Conjugate Family</button>
</div>
<div id="Sect44A" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=44" width="100%" height="400"> </iframe>
</div>
<div id="Sect44B" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=45" width="100%" height="400"> </iframe>
</div>
<div id="Sect44C" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=46" width="100%" height="400"> </iframe>
</div>
<div id="Sect44D" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=47" width="100%" height="400"> </iframe>
</div>
<div id="Sect44E" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=48" width="100%" height="400"> </iframe>
</div>
<div id="Sect44F" class="tabcontent">
<span class="topright" onclick="this.parentElement.style.display=&#39;none&#39;">Hide</span>
<iframe src="./Overheads/LDA1.Chap4.pdf#page=49" width="100%" height="400"> </iframe>
</div>
</div>
<div id="visualizing-bayesian-methods" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Visualizing Bayesian Methods</h3>
<center>
<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/1660902/sp/166090200/embedIframeJs/uiconf_id/34298531/partner_id/1660902?iframeembed=true&amp;playerId=kaltura_player&amp;entry_id=1_yv1ioaxl&amp;flashvars[streamerType]=auto&amp;flashvars[localizationCode]=en_US&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&amp;wid=1_8j9zvdbn" width="649" height="401" allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" frameborder="0" title="Kaltura Player">
</iframe>
</center>
<p><strong>Assignment Text</strong></p>
<p>In this tutorial, we will visually explore the prior and posterior distributions from <a href="https://openacttexts.github.io/Loss-Data-Analytics/C-ModelSelection.html#bayesian-inference">Example 4.4.1 of <em>Loss Data Analytics</em></a>, and explore what would happen if we observed one more observation as well. Recall that for this problem, the prior distribution was
<span class="math display">\[
\pi(q) = q^3/0.07, \hspace{5mm} 0.6 \leq q \leq 0.8.
\]</span></p>
<p>two observations from a Bernoulli(q) were <span class="math inline">\(X_1 = 1, X_2 = 0\)</span>, and the posterior was found (Example 4.4.1) to be
<span class="math display">\[
\pi(q \mid 1,0) = \frac{q^4 - q^5}{0.014069}.
\]</span></p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Make a <a href="https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/plot">plot()</a> of the prior distribution.</li>
<li>Think about how you expect the observed data to reshape it to the posterior.</li>
<li>Add the posterior and a legend to your plot, to confirm the influence of the observed data. This requires advanced commands such as <a href="https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/lines">lines()</a> and <a href="https://www.rdocumentation.org/packages/graphics/versions/3.6.2/topics/legend">legend()</a>.</li>
</ul>
</div>
<p><br></p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJxID0gc2VxKDAuNiwgMC44LCBieSA9IC4wMSlcbnByaW9yID0gPz9cbnBsb3QoPz8gLCA/PywgY29sPVwicmVkXCIsIHR5cGU9XCJsXCIsIHlsYWI9XCJcIikiLCJzb2x1dGlvbiI6InEgPSBzZXEoMC42LCAwLjgsIGJ5ID0gLjAxKVxucHJpb3IgPSBxXjMvMC4wN1xucGxvdChxLCBwcmlvciwgY29sPVwicmVkXCIsIHR5cGU9XCJsXCIsIHlsYWI9XCJcIikiLCJzY3QiOiJwcmlvcm1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgcHJpb3JgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJwcmlvclwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgcHJpb3JgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wcmlvcm1zZylcblxucGxvdDVtc2c8LVwiVXNlIGBwbG90YCBvbiB0aGUgYHEgYW5kIGBwcmlvcmAgb2JqZWN0c1wiXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInBsb3RcIiwgbm90X2NhbGxlZF9tc2c9cGxvdDVtc2cpICU+JSBjaGVja19yZXN1bHQoKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wbG90NW1zZylcblxuc3VjY2Vzc19tc2coXCJFeGNlbGxlbnQhXCIpIiwiaGludCI6IlJlY2FsbCB0aGUgbWF0aGVtYXRpY2FsIGRlZmluaXRpb24gb2YgdGhlIHByaW9yIGRlbnNpdHkgZnVuY3Rpb24uICBQbG90IHRoaXMgYWdhaW5zdCB0aGUgc2VxdWVuY2Ugb2YgcGFyYW1ldGVyIHZhbHVlcy4ifQ==
</div>
<p>Notice that the prior distribution sets the support for <span class="math inline">\(q\)</span>, which is bounded between 0.6 and 0.8. The posterior will necessarily have this same support. Notice also that the prior distribution places more mass for larger values of <span class="math inline">\(q\)</span>. This is saying that prior to observing data, we think larger parameters values near 0.8 are more likely than smaller values near 0.6</p>
<p>The observed data has a claim in year 1 (<span class="math inline">\(X_1 = 1\)</span>) and no claim in year 2 (<span class="math inline">\(X_2 = 0\)</span>). So, we have two independent samples drawn from a Bernoulli(q), and <span class="math inline">\(\overline{X} = 0.5\)</span>. If we were only using the likelihood and a method such as maximum likelihood estimation, we would estimate <span class="math inline">\(\widehat{q} = \overline{X} = 0.5\)</span>. So these data are telling us that values near <span class="math inline">\(q=0.5\)</span> are consistent. But, Bayesian methods blend information from the data with information from the prior to produce a posterior. So, expect that our posterior distribution will place more mass towards smaller values of <span class="math inline">\(q\)</span>, and less towards larger values. Letâ€™s see if that is true.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJxID0gc2VxKDAuNiwgMC44LCBieSA9IC4wMSlcbj8/ID0gcV4zLzAuMDdcbnBvc3RlcmlvciA9ID8/XG5cbnBsb3QocSwgcHJpb3IsIGNvbD1cInJlZFwiLCB0eXBlPVwibFwiLCB5bGFiPVwiXCIpXG5saW5lcyhxLCA/PywgY29sPVwiYmx1ZVwiLCB0eXBlPVwibFwiLCBsdHk9MilcbmxlZ2VuZChcInRvcGxlZnRcIixsZWdlbmQ9YyhcIlByaW9yXCIsXCJQb3N0ZXJpb3JcIiksIGNvbD0/PywgbHR5PWMoMSwyKSkiLCJzb2x1dGlvbiI6InEgPSBzZXEoMC42LCAwLjgsIGJ5ID0gLjAxKVxucHJpb3IgPSBxXjMvMC4wN1xucG9zdGVyaW9yID0gKHFeNCAtIHFeNSkvMC4wMTQwNjlcblxucGxvdChxLCBwcmlvciwgY29sPVwicmVkXCIsIHR5cGU9XCJsXCIsIHlsYWI9XCJcIilcbmxpbmVzKHEsIHBvc3RlcmlvciwgY29sPVwiYmx1ZVwiLCB0eXBlPVwibFwiLCBsdHk9MilcbmxlZ2VuZChcInRvcGxlZnRcIixsZWdlbmQ9YyhcIlByaW9yXCIsXCJQb3N0ZXJpb3JcIiksIGNvbD1jKFwicmVkXCIsXCJibHVlXCIpLCBsdHk9YygxLDIpKSIsInNjdCI6InByaW9yMW1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgcHJpb3JgP1wiXG5leCgpICU+JSBjaGVja19vYmplY3QoXCJwcmlvclwiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgcHJpb3JgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wcmlvcjFtc2cpXG5cbnBvc3Rlcmlvcm1zZyA8LSBcIkRpZCB5b3UgY29ycmVjdGx5IHNwZWNpZnkgdGhlIG9iamVjdCBgcG9zdGVyaW9yYD9cIlxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwicG9zdGVyaW9yXCIsIHVuZGVmaW5lZF9tc2cgPSBcIk1ha2Ugc3VyZSB0byBub3QgcmVtb3ZlIGBwb3N0ZXJpb3JgIVwiKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wb3N0ZXJpb3Jtc2cpXG5cbnBsb3Q2bXNnPC1cIlVzZSBgcGxvdGAgb24gdGhlIGBxIGFuZCBgcHJpb3JgIG9iamVjdHNcIlxuZXgoKSAlPiUgY2hlY2tfZnVuY3Rpb24oXCJwbG90XCIsIG5vdF9jYWxsZWRfbXNnPXBsb3Q2bXNnKSAlPiUgY2hlY2tfcmVzdWx0KCkgJT4lIGNoZWNrX2VxdWFsKGluY29ycmVjdF9tc2c9cGxvdDZtc2cpXG5cbnN1Y2Nlc3NfbXNnKFwiRXhjZWxsZW50ISAgTm93IHdlIGNhbiBzZWUgaG93IHRoZSBvYnNlcnZlZCBkYXRhIHNoaWZ0ZWQgb3VyIHVuZGVyc3RhbmRpbmcgb2YgdGhpcyB1bmtub3duIHBhcmFtZXRlci5cIikiLCJoaW50IjoiTWFrZSBzdXJlIHlvdSB1bmRlcnN0YW5kIHdoaWNoIGlzIHRoZSBwcmlvciBkZW5zaXR5IGFuZCB3aGljaCBpcyB0aGUgcG9zdGVyaW9yLiAgQWxzbywgbWFrZSBzdXJlIHlvdSBhcmUgaW4gdGhlIGhhYml0IG9mIGtlZXBpbmcgY29sb3JzIGFuZCBsaW5lIHR5cGVzIGNvbnNpc3RlbnQgaW4geW91ciB3b3JrLiJ9
</div>
<p>Indeed, the posterior has shifted the mass towards lower values, balancing what the data tell us and what the prior tells us. Since this is only two data points, the shift is not especially dramatic.</p>
<p><strong>Assignment Extension</strong></p>
<p>Letâ€™s continue with the prior example, but now imagine we next observe the third year, and there was again no claim, <span class="math inline">\(X_3 = 0\)</span>. We will compute the new posterior distribution, and compare it to the posterior in the previous problem.</p>
<div class="blackbox">
<p><strong>Instructions</strong></p>
<ul>
<li>Make a plot showing the original prior, posterior from example 4.1.1, and posterior for the new case.</li>
</ul>
</div>
<p><br></p>
<p>The posterior distribution after observing three data points is:</p>
<p><span class="math display">\[
\pi(q \mid 1,0,0) \propto f(1\mid q)f(0\mid q)f(0\mid q)\pi(q) = q(1-q)(1-q)q^3 = q^4 - 2q^5 + q^6
\]</span></p>
<p>Recall the posterior is proportional to <span class="math inline">\(q^4 - 2q^5 + q^6\)</span>, so that means
<span class="math display">\[
\pi(q \mid 1,0,0) = c \left(q^4 - 2q^5 + q^6 \right).
\]</span></p>
<p>In order to find the normalizing constant <span class="math inline">\(c\)</span>, we would need to integrate this and make sure the integral is 1:</p>
<p><span class="math display">\[
\begin{array}{ll}
1 &amp;= \int_{q=0.6}^{0.8} c \left(q^4 - 2q^5 + q^6\right)dq\\
 &amp;= c \left(\frac{1}{5}q^5 - \frac{2}{6} q^6 +\frac{1}{7} q^7 \right) \rvert_{q=0.6}^{q=0.8}\\
 &amp;= c \left( 0.0081 - 0.00400 \right)\\
 &amp;= c \left(0.0041 \right)\\ 
 \end{array}
\]</span></p>
<p>Thus, we see the normalizing constant is <span class="math inline">\(c = \frac{1}{.0041}\)</span>. We can now revisit the code and add the new posterior line:</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJxID0gc2VxKDAuNiwgMC44LCBieSA9IC4wMSlcbnByaW9yID0gcV4zLzAuMDdcbnBvc3Rlcmlvcl9vbGQgPSAocV40IC0gcV41KS8wLjAxNDA2OVxucG9zdGVyaW9yX25ldyA9ID8/XG5cbnBsb3QocSwgcHJpb3IsIGNvbD1cInJlZFwiLCB0eXBlPVwibFwiLCB5bGFiPVwiXCIpXG5saW5lcyhxLCBwb3N0ZXJpb3Jfb2xkLCBjb2w9XCJibHVlXCIsIHR5cGU9XCJsXCIsIGx0eT0yKVxubGluZXMocSwgcG9zdGVyaW9yX25ldywgY29sPVwiZ3JlZW5cIiwgdHlwZT1cImxcIiwgbHR5PTMpXG5sZWdlbmQoXCJ0b3BsZWZ0XCIsbGVnZW5kPWMoXCJQcmlvclwiLFwiT2xkIFBvc3RlcmlvclwiLFwiTmV3IFBvc3RlcmlvclwiKSwgY29sPWMoXCJyZWRcIixcImJsdWVcIiw/PyksIGx0eT1jKDEsMiwzKSkiLCJzb2x1dGlvbiI6InEgPSBzZXEoMC42LCAwLjgsIGJ5ID0gLjAxKVxucHJpb3IgPSBxXjMvMC4wN1xucG9zdGVyaW9yX29sZCA9IChxXjQgLSBxXjUpLzAuMDE0MDY5XG5wb3N0ZXJpb3JfbmV3ID0gKHFeNCAtIDIqcV41K3FeNikvMC4wMDQxXG5cbnBsb3QocSwgcHJpb3IsIGNvbD1cInJlZFwiLCB0eXBlPVwibFwiLCB5bGFiPVwiXCIpXG5saW5lcyhxLCBwb3N0ZXJpb3Jfb2xkLCBjb2w9XCJibHVlXCIsIHR5cGU9XCJsXCIsIGx0eT0yKVxubGluZXMocSwgcG9zdGVyaW9yX25ldywgY29sPVwiZ3JlZW5cIiwgdHlwZT1cImxcIiwgbHR5PTMpXG5sZWdlbmQoXCJ0b3BsZWZ0XCIsbGVnZW5kPWMoXCJQcmlvclwiLFwiT2xkIFBvc3RlcmlvclwiLFwiTmV3IFBvc3RlcmlvclwiKSwgY29sPWMoXCJyZWRcIixcImJsdWVcIixcImdyZWVuXCIpLCBsdHk9YygxLDIsMykpIiwic2N0IjoicHJpb3IxbXNnIDwtIFwiRGlkIHlvdSBjb3JyZWN0bHkgc3BlY2lmeSB0aGUgb2JqZWN0IGBwcmlvcmA/XCJcbmV4KCkgJT4lIGNoZWNrX29iamVjdChcInByaW9yXCIsIHVuZGVmaW5lZF9tc2cgPSBcIk1ha2Ugc3VyZSB0byBub3QgcmVtb3ZlIGBwcmlvcmAhXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPXByaW9yMW1zZylcblxucG9zdGVyaW9ybmV3bXNnIDwtIFwiRGlkIHlvdSBjb3JyZWN0bHkgc3BlY2lmeSB0aGUgb2JqZWN0IGBwb3N0ZXJpb3JfbmV3YD9cIlxuZXgoKSAlPiUgY2hlY2tfb2JqZWN0KFwicG9zdGVyaW9yX25ld1wiLCB1bmRlZmluZWRfbXNnID0gXCJNYWtlIHN1cmUgdG8gbm90IHJlbW92ZSBgcG9zdGVyaW9yX25ld2AhXCIpICU+JSBjaGVja19lcXVhbChpbmNvcnJlY3RfbXNnPXBvc3Rlcmlvcm5ld21zZylcblxucGxvdDdtc2c8LVwiVXNlIGBwbG90YCBvbiB0aGUgYHEgYW5kIGBwcmlvcmAgb2JqZWN0c1wiXG5leCgpICU+JSBjaGVja19mdW5jdGlvbihcInBsb3RcIiwgbm90X2NhbGxlZF9tc2c9cGxvdDdtc2cpICU+JSBjaGVja19yZXN1bHQoKSAlPiUgY2hlY2tfZXF1YWwoaW5jb3JyZWN0X21zZz1wbG90N21zZylcblxuc3VjY2Vzc19tc2coXCJOaWNlIVwiKSJ9
</div>
<p>As expected, the new posterior has shifted even more mass towards lower parameter values in the posterior, since <span class="math inline">\(\overline{X} = \frac{1}{3}\)</span> and the data are more consistent with low parameter values for <span class="math inline">\(q\)</span>.</p>
</div>
</div>
<div id="contributors-4" class="section level2 unnumbered">
<h2>Contributors</h2>
<ul>
<li><strong>Authors</strong>. <strong>Rob Erhardt</strong>, Wake Forest University, <strong>Brian Hartman</strong>, Brigham Young University, and <strong>Zhiyu (Frank) Quan</strong>, University of Illinois at Urbana-Champaign, are the principal authors of the initial version of this chapter.</li>
<li><strong>Chapter Maintainers</strong>. Please contact Frank at <a href="mailto:zquan@illinois.edu" class="email">zquan@illinois.edu</a> and/or Jed at <a href="mailto:jfrees@bus.wisc.edu" class="email">jfrees@bus.wisc.edu</a> for chapter comments and suggested improvements.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modeling-loss-severity.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="aggregate-loss-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
